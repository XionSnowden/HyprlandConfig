var r={graph:["table-view","meter-view"],table:["view-state"],meter:["view-state"]},i=class extends EventTarget{constructor(){super();this.disabledFeatures=new Set,this._checkFrameFeatures()}_checkFrameFeatures(){if(!window._frameFeatures)return;let e=new Set(window._frameFeatures.enabledFeatures?.map(t=>t.trim())?.filter(Boolean)),a=window._frameFeatures.disabledFeatures?.map(t=>t.trim())?.filter(Boolean);this.disabledFeatures=new Set(a)||this.disabledFeatures,new Set(["replay","video-view","mode-switching"]).forEach(t=>{e.has(t)||this.disableFeature(t)})}disableFeature(e){this.disabledFeatures.add(e),this.dispatchEvent(new CustomEvent("feature-disabled",{detail:e})),this.dispatchEvent(new CustomEvent("frame-features-updated"))}enableFeature(e){this.disabledFeatures.delete(e),this.dispatchEvent(new CustomEvent("feature-enabled",{detail:e})),this.dispatchEvent(new CustomEvent("frame-features-updated"))}initializeBlockTypeFeatures(e){(r[e]??[]).forEach(s=>this.disableFeature(s)),this._checkFrameFeatures()}},n=new i;export{n as a};
