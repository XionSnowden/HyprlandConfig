import{c as xe,f as Se}from"./chunk-CM6X6NVN.js";var Re=Se(()=>{});var ke=Se(()=>{});var we=Se(()=>{});var Fe=Se(()=>{});var Le=Se(()=>{});var Ne=Se((exports,module)=>{(function(t,y){typeof exports=="object"&&typeof module=="object"?module.exports=y():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],y):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=y():t["pdfjs-dist/build/pdf"]=t.pdfjsLib=y()})(exports,function(){return function(Q){var t={};function y(e){if(t[e])return t[e].exports;var A=t[e]={i:e,l:!1,exports:{}};return Q[e].call(A.exports,A,A.exports,y),A.l=!0,A.exports}return y.m=Q,y.c=t,y.d=function(e,A,F){y.o(e,A)||Object.defineProperty(e,A,{enumerable:!0,get:F})},y.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},y.t=function(e,A){if(A&1&&(e=y(e)),A&8||A&4&&typeof e=="object"&&e&&e.__esModule)return e;var F=Object.create(null);if(y.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:e}),A&2&&typeof e!="string")for(var N in e)y.d(F,N,function(E){return e[E]}.bind(null,N));return F},y.n=function(e){var A=e&&e.__esModule?function(){return e.default}:function(){return e};return y.d(A,"a",A),A},y.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)},y.p="",y(y.s=0)}([function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return e.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return e.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return A.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return A.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return A.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return A.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return A.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return A.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return F.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return F.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return F.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return F.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return F.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return F.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return F.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return F.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return F.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return F.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return F.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return F.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return F.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return F.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return F.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return N.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return E.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return x.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}});var e=y(1),A=y(5),F=y(2),N=y(19),E=y(9),b=y(12),x=y(20),d=y(21);let C="2.6.347",D="3be9c65f";{let{isNodeJS:c}=y(4);if(c){let m=y(22).PDFNodeStream;(0,A.setPDFNetworkStreamFactory)(g=>new m(g))}else{let m=y(25).PDFNetworkStream,g;(0,e.isFetchSupported)()&&(g=y(26).PDFFetchStream),(0,A.setPDFNetworkStreamFactory)(M=>g&&(0,e.isValidFetchUrl)(M.url)?new g(M):new m(M))}}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=m,t.getFilenameFromUrl=g,t.isFetchSupported=v,t.isValidFetchUrl=L,t.loadScript=R,t.deprecated=f,t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.BaseCMapReaderFactory=t.DOMCanvasFactory=t.BaseCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var e=y(2);let A="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=A;let F="http://www.w3.org/2000/svg";class N{constructor(){this.constructor===N&&(0,e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,o){(0,e.unreachable)("Abstract method `create` called.")}reset(h,o,S){if(!h.canvas)throw new Error("Canvas is not specified");if(o<=0||S<=0)throw new Error("Invalid canvas size");h.canvas.width=o,h.canvas.height=S}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}}t.BaseCanvasFactory=N;class E extends N{constructor({ownerDocument:h=globalThis.document}={}){super();this._document=h}create(h,o){if(h<=0||o<=0)throw new Error("Invalid canvas size");let S=this._document.createElement("canvas"),P=S.getContext("2d");return S.width=h,S.height=o,{canvas:S,context:P}}}t.DOMCanvasFactory=E;class b{constructor({baseUrl:h=null,isCompressed:o=!1}){this.constructor===b&&(0,e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=o}async fetch({name:h}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");let o=this.baseUrl+h+(this.isCompressed?".bcmap":""),S=this.isCompressed?e.CMapCompressionType.BINARY:e.CMapCompressionType.NONE;return this._fetchData(o,S).catch(P=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${o}`)})}_fetchData(h,o){(0,e.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=b;class x extends b{_fetchData(h,o){return v()&&L(h,document.baseURI)?fetch(h).then(async S=>{if(!S.ok)throw new Error(S.statusText);let P;return this.isCompressed?P=new Uint8Array(await S.arrayBuffer()):P=(0,e.stringToBytes)(await S.text()),{cMapData:P,compressionType:o}}):new Promise((S,P)=>{let G=new XMLHttpRequest;G.open("GET",h,!0),this.isCompressed&&(G.responseType="arraybuffer"),G.onreadystatechange=()=>{if(G.readyState===XMLHttpRequest.DONE){if(G.status===200||G.status===0){let O;if(this.isCompressed&&G.response?O=new Uint8Array(G.response):!this.isCompressed&&G.responseText&&(O=(0,e.stringToBytes)(G.responseText)),O){S({cMapData:O,compressionType:o});return}}P(new Error(G.statusText))}},G.send(null)})}}t.DOMCMapReaderFactory=x;class d{create(h,o){(0,e.assert)(h>0&&o>0,"Invalid SVG dimensions");let S=document.createElementNS(F,"svg:svg");return S.setAttribute("version","1.1"),S.setAttribute("width",h+"px"),S.setAttribute("height",o+"px"),S.setAttribute("preserveAspectRatio","none"),S.setAttribute("viewBox","0 0 "+h+" "+o),S}createElement(h){return(0,e.assert)(typeof h=="string","Invalid SVG element type"),document.createElementNS(F,h)}}t.DOMSVGFactory=d;class C{constructor({viewBox:h,scale:o,rotation:S,offsetX:P=0,offsetY:G=0,dontFlip:O=!1}){this.viewBox=h,this.scale=o,this.rotation=S,this.offsetX=P,this.offsetY=G;let k=(h[2]+h[0])/2,z=(h[3]+h[1])/2,W,I,n,l;switch(S=S%360,S=S<0?S+360:S,S){case 180:W=-1,I=0,n=0,l=1;break;case 90:W=0,I=1,n=1,l=0;break;case 270:W=0,I=-1,n=-1,l=0;break;case 0:W=1,I=0,n=0,l=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}O&&(n=-n,l=-l);let s,i,u,_;W===0?(s=Math.abs(z-h[1])*o+P,i=Math.abs(k-h[0])*o+G,u=Math.abs(h[3]-h[1])*o,_=Math.abs(h[2]-h[0])*o):(s=Math.abs(k-h[0])*o+P,i=Math.abs(z-h[1])*o+G,u=Math.abs(h[2]-h[0])*o,_=Math.abs(h[3]-h[1])*o),this.transform=[W*o,I*o,n*o,l*o,s-W*o*k-n*o*z,i-I*o*k-l*o*z],this.width=u,this.height=_}clone({scale:h=this.scale,rotation:o=this.rotation,offsetX:S=this.offsetX,offsetY:P=this.offsetY,dontFlip:G=!1}={}){return new C({viewBox:this.viewBox.slice(),scale:h,rotation:o,offsetX:S,offsetY:P,dontFlip:G})}convertToViewportPoint(h,o){return e.Util.applyTransform([h,o],this.transform)}convertToViewportRectangle(h){let o=e.Util.applyTransform([h[0],h[1]],this.transform),S=e.Util.applyTransform([h[2],h[3]],this.transform);return[o[0],o[1],S[0],S[1]]}convertToPdfPoint(h,o){return e.Util.applyInverseTransform([h,o],this.transform)}}t.PageViewport=C;class D extends e.BaseException{constructor(h,o){super(h);this.type=o}}t.RenderingCancelledException=D;let c={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=c;function m(p,{url:h,target:o,rel:S,enabled:P=!0}={}){(0,e.assert)(h&&typeof h=="string",'addLinkAttributes: A valid "url" parameter must provided.');let G=(0,e.removeNullCharacters)(h);P?p.href=p.title=G:(p.href="",p.title=`Disabled: ${G}`,p.onclick=()=>!1);let O="";switch(o){case c.NONE:break;case c.SELF:O="_self";break;case c.BLANK:O="_blank";break;case c.PARENT:O="_parent";break;case c.TOP:O="_top";break}p.target=O,p.rel=typeof S=="string"?S:A}function g(p){let h=p.indexOf("#"),o=p.indexOf("?"),S=Math.min(h>0?h:p.length,o>0?o:p.length);return p.substring(p.lastIndexOf("/",S)+1,S)}class M{constructor(){this.started=Object.create(null),this.times=[]}time(h){h in this.started&&(0,e.warn)(`Timer is already running for ${h}`),this.started[h]=Date.now()}timeEnd(h){h in this.started||(0,e.warn)(`Timer has not been started for ${h}`),this.times.push({name:h,start:this.started[h],end:Date.now()}),delete this.started[h]}toString(){let h=[],o=0;for(let S of this.times){let P=S.name;P.length>o&&(o=P.length)}for(let S of this.times){let P=S.end-S.start;h.push(`${S.name.padEnd(o)} ${P}ms
`)}return h.join("")}}t.StatTimer=M;function v(){return typeof fetch!="undefined"&&typeof Response!="undefined"&&"body"in Response.prototype&&typeof ReadableStream!="undefined"}function L(p,h){try{let{protocol:o}=h?new URL(p,h):new URL(p);return o==="http:"||o==="https:"}catch(o){return!1}}function R(p){return new Promise((h,o)=>{let S=document.createElement("script");S.src=p,S.onload=h,S.onerror=function(){o(new Error(`Cannot load script at: ${S.src}`))},(document.head||document.documentElement).appendChild(S)})}function f(p){console.log("Deprecated API usage: "+p)}let r;class a{static toDateObject(h){if(!h||!(0,e.isString)(h))return null;r||(r=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let o=r.exec(h);if(!o)return null;let S=parseInt(o[1],10),P=parseInt(o[2],10);P=P>=1&&P<=12?P-1:0;let G=parseInt(o[3],10);G=G>=1&&G<=31?G:1;let O=parseInt(o[4],10);O=O>=0&&O<=23?O:0;let k=parseInt(o[5],10);k=k>=0&&k<=59?k:0;let z=parseInt(o[6],10);z=z>=0&&z<=59?z:0;let W=o[7]||"Z",I=parseInt(o[8],10);I=I>=0&&I<=23?I:0;let n=parseInt(o[9],10)||0;return n=n>=0&&n<=59?n:0,W==="-"?(O+=I,k+=n):W==="+"&&(O-=I,k-=n),new Date(Date.UTC(S,P,G,O,k,z))}}t.PDFDateString=a},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=X,t.arraysToBytes=Y,t.assert=O,t.bytesToString=V,t.createPromiseCapability=pe,t.escapeString=ae,t.getModificationDate=ve,t.getVerbosityLevel=o,t.info=S,t.isArrayBuffer=Ae,t.isArrayEqual=be,t.isBool=fe,t.isNum=de,t.isString=_e,t.isSameOrigin=k,t.createValidAbsoluteUrl=W,t.removeNullCharacters=H,t.setVerbosityLevel=h,t.shadow=I,t.string32=K,t.stringToBytes=$,t.stringToPDFString=ce,t.stringToUTF8String=me,t.utf8StringToString=Ce,t.warn=P,t.unreachable=G,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,y(3);let e=[1,0,0,1,0,0];t.IDENTITY_MATRIX=e;let A=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=A;let F={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=F;let N={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=N;let E={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=E;let b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=b;let x={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=x;let d={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=d;let C={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=C;let D={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=D;let c={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=c;let m={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=m;let g={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=g;let M={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=M;let v={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=v;let L={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=L;let R={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=R;let f={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=f;let r={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};t.UNSUPPORTED_FEATURES=r;let a={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=a;let p=L.WARNINGS;function h(j){Number.isInteger(j)&&(p=j)}function o(){return p}function S(j){p>=L.INFOS&&console.log(`Info: ${j}`)}function P(j){p>=L.WARNINGS&&console.log(`Warning: ${j}`)}function G(j){throw new Error(j)}function O(j,U){j||G(U)}function k(j,U){let B;try{if(B=new URL(j),!B.origin||B.origin==="null")return!1}catch(re){return!1}let J=new URL(U,B);return B.origin===J.origin}function z(j){if(!j)return!1;switch(j.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function W(j,U){if(!j)return null;try{let B=U?new URL(j,U):new URL(j);if(z(B))return B}catch(B){}return null}function I(j,U,B){return Object.defineProperty(j,U,{value:B,enumerable:!0,configurable:!0,writable:!1}),B}let n=function(){function U(B){this.constructor===U&&G("Cannot initialize BaseException."),this.message=B,this.name=this.constructor.name}return U.prototype=new Error,U.constructor=U,U}();t.BaseException=n;class l extends n{constructor(U,B){super(U);this.code=B}}t.PasswordException=l;class s extends n{constructor(U,B){super(U);this.details=B}}t.UnknownErrorException=s;class i extends n{}t.InvalidPDFException=i;class u extends n{}t.MissingPDFException=u;class _ extends n{constructor(U,B){super(U);this.status=B}}t.UnexpectedResponseException=_;class T extends n{}t.FormatError=T;class w extends n{}t.AbortException=w;let q=/\x00/g;function H(j){return typeof j!="string"?(P("The argument for removeNullCharacters must be a string."),j):j.replace(q,"")}function V(j){O(j!==null&&typeof j=="object"&&j.length!==void 0,"Invalid argument for bytesToString");let U=j.length,B=8192;if(U<B)return String.fromCharCode.apply(null,j);let J=[];for(let re=0;re<U;re+=B){let oe=Math.min(re+B,U),le=j.subarray(re,oe);J.push(String.fromCharCode.apply(null,le))}return J.join("")}function $(j){O(typeof j=="string","Invalid argument for stringToBytes");let U=j.length,B=new Uint8Array(U);for(let J=0;J<U;++J)B[J]=j.charCodeAt(J)&255;return B}function X(j){return j.length!==void 0?j.length:(O(j.byteLength!==void 0,"arrayByteLength - invalid argument."),j.byteLength)}function Y(j){let U=j.length;if(U===1&&j[0]instanceof Uint8Array)return j[0];let B=0;for(let oe=0;oe<U;oe++)B+=X(j[oe]);let J=0,re=new Uint8Array(B);for(let oe=0;oe<U;oe++){let le=j[oe];le instanceof Uint8Array||(typeof le=="string"?le=$(le):le=new Uint8Array(le));let ge=le.byteLength;re.set(le,J),J+=ge}return re}function K(j){return String.fromCharCode(j>>24&255,j>>16&255,j>>8&255,j&255)}function ee(){let j=new Uint8Array(4);return j[0]=1,new Uint32Array(j.buffer,0,1)[0]===1}let Z={get value(){return I(this,"value",ee())}};t.IsLittleEndianCached=Z;function te(){try{return new Function(""),!0}catch(j){return!1}}let ie={get value(){return I(this,"value",te())}};t.IsEvalSupportedCached=ie;let se=["rgb(",0,",",0,",",0,")"];class ne{static makeCssRgb(U,B,J){return se[1]=U,se[3]=B,se[5]=J,se.join("")}static transform(U,B){return[U[0]*B[0]+U[2]*B[1],U[1]*B[0]+U[3]*B[1],U[0]*B[2]+U[2]*B[3],U[1]*B[2]+U[3]*B[3],U[0]*B[4]+U[2]*B[5]+U[4],U[1]*B[4]+U[3]*B[5]+U[5]]}static applyTransform(U,B){let J=U[0]*B[0]+U[1]*B[2]+B[4],re=U[0]*B[1]+U[1]*B[3]+B[5];return[J,re]}static applyInverseTransform(U,B){let J=B[0]*B[3]-B[1]*B[2],re=(U[0]*B[3]-U[1]*B[2]+B[2]*B[5]-B[4]*B[3])/J,oe=(-U[0]*B[1]+U[1]*B[0]+B[4]*B[1]-B[5]*B[0])/J;return[re,oe]}static getAxialAlignedBoundingBox(U,B){let J=ne.applyTransform(U,B),re=ne.applyTransform(U.slice(2,4),B),oe=ne.applyTransform([U[0],U[3]],B),le=ne.applyTransform([U[2],U[1]],B);return[Math.min(J[0],re[0],oe[0],le[0]),Math.min(J[1],re[1],oe[1],le[1]),Math.max(J[0],re[0],oe[0],le[0]),Math.max(J[1],re[1],oe[1],le[1])]}static inverseTransform(U){let B=U[0]*U[3]-U[1]*U[2];return[U[3]/B,-U[1]/B,-U[2]/B,U[0]/B,(U[2]*U[5]-U[4]*U[3])/B,(U[4]*U[1]-U[5]*U[0])/B]}static apply3dTransform(U,B){return[U[0]*B[0]+U[1]*B[1]+U[2]*B[2],U[3]*B[0]+U[4]*B[1]+U[5]*B[2],U[6]*B[0]+U[7]*B[1]+U[8]*B[2]]}static singularValueDecompose2dScale(U){let B=[U[0],U[2],U[1],U[3]],J=U[0]*B[0]+U[1]*B[2],re=U[0]*B[1]+U[1]*B[3],oe=U[2]*B[0]+U[3]*B[2],le=U[2]*B[1]+U[3]*B[3],ge=(J+le)/2,ye=Math.sqrt((J+le)*(J+le)-4*(J*le-oe*re))/2,Pe=ge+ye||1,Te=ge-ye||1;return[Math.sqrt(Pe),Math.sqrt(Te)]}static normalizeRect(U){let B=U.slice(0);return U[0]>U[2]&&(B[0]=U[2],B[2]=U[0]),U[1]>U[3]&&(B[1]=U[3],B[3]=U[1]),B}static intersect(U,B){function J(ge,ye){return ge-ye}let re=[U[0],U[2],B[0],B[2]].sort(J),oe=[U[1],U[3],B[1],B[3]].sort(J),le=[];if(U=ne.normalizeRect(U),B=ne.normalizeRect(B),re[0]===U[0]&&re[1]===B[0]||re[0]===B[0]&&re[1]===U[0])le[0]=re[1],le[2]=re[2];else return null;if(oe[0]===U[1]&&oe[1]===B[1]||oe[0]===B[1]&&oe[1]===U[1])le[1]=oe[1],le[3]=oe[2];else return null;return le}}t.Util=ne;let ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ce(j){let U=j.length,B=[];if(j[0]==="\xFE"&&j[1]==="\xFF")for(let J=2;J<U;J+=2)B.push(String.fromCharCode(j.charCodeAt(J)<<8|j.charCodeAt(J+1)));else if(j[0]==="\xFF"&&j[1]==="\xFE")for(let J=2;J<U;J+=2)B.push(String.fromCharCode(j.charCodeAt(J+1)<<8|j.charCodeAt(J)));else for(let J=0;J<U;++J){let re=ue[j.charCodeAt(J)];B.push(re?String.fromCharCode(re):j.charAt(J))}return B.join("")}function ae(j){return j.replace(/([\(\)\\])/g,"\\$1")}function me(j){return decodeURIComponent(escape(j))}function Ce(j){return unescape(encodeURIComponent(j))}function fe(j){return typeof j=="boolean"}function de(j){return typeof j=="number"}function _e(j){return typeof j=="string"}function Ae(j){return typeof j=="object"&&j!==null&&j.byteLength!==void 0}function be(j,U){return j.length!==U.length?!1:j.every(function(B,J){return B===U[J]})}function ve(j=new Date(Date.now())){return[j.getUTCFullYear().toString(),(j.getUTCMonth()+1).toString().padStart(2,"0"),(j.getUTCDate()+1).toString().padStart(2,"0"),j.getUTCHours().toString().padStart(2,"0"),j.getUTCMinutes().toString().padStart(2,"0"),j.getUTCSeconds().toString().padStart(2,"0")].join("")}function pe(){let j=Object.create(null),U=!1;return Object.defineProperty(j,"settled",{get(){return U}}),j.promise=new Promise(function(B,J){j.resolve=function(re){U=!0,B(re)},j.reject=function(re){U=!0,J(re)}}),j}let he=function(){let U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(J,re,oe=!1){if(!oe&&URL.createObjectURL){let ge=new Blob([J],{type:re});return URL.createObjectURL(ge)}let le=`data:${re};base64,`;for(let ge=0,ye=J.length;ge<ye;ge+=3){let Pe=J[ge]&255,Te=J[ge+1]&255,Ee=J[ge+2]&255,Me=Pe>>2,Oe=(Pe&3)<<4|Te>>4,Ie=ge+1<ye?(Te&15)<<2|Ee>>6:64,De=ge+2<ye?Ee&63:64;le+=U[Me]+U[Oe]+U[Ie]+U[De]}return le}}();t.createObjectURL=he},function(Q,t,y){"use strict";var e=y(4)},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;let e=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=e},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_webgl=__w_pdfjs_require__(18);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory,DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(Q){createPDFNetworkStream=Q}function getDocument(Q){let t=new PDFDocumentLoadingTask,y;if(typeof Q=="string")y={url:Q};else if((0,_util.isArrayBuffer)(Q))y={data:Q};else if(Q instanceof PDFDataRangeTransport)y={range:Q};else{if(typeof Q!="object")throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!Q.url&&!Q.data&&!Q.range)throw new Error("Invalid parameter object: need either .data, .range or .url");y=Q}let e=Object.create(null),A=null,F=null;for(let E in y){if(E==="url"&&typeof window!="undefined"){e[E]=new URL(y[E],window.location).href;continue}else if(E==="range"){A=y[E];continue}else if(E==="worker"){F=y[E];continue}else if(E==="data"&&!(y[E]instanceof Uint8Array)){let b=y[E];if(typeof b=="string")e[E]=(0,_util.stringToBytes)(b);else if(typeof b=="object"&&b!==null&&!isNaN(b.length))e[E]=new Uint8Array(b);else if((0,_util.isArrayBuffer)(b))e[E]=new Uint8Array(b);else throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");continue}e[E]=y[E]}if(e.rangeChunkSize=e.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,e.CMapReaderFactory=e.CMapReaderFactory||DefaultCMapReaderFactory,e.ignoreErrors=e.stopAtErrors!==!0,e.fontExtraProperties=e.fontExtraProperties===!0,e.pdfBug=e.pdfBug===!0,Number.isInteger(e.maxImageSize)||(e.maxImageSize=-1),typeof e.isEvalSupported!="boolean"&&(e.isEvalSupported=!0),typeof e.disableFontFace!="boolean"&&(e.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),typeof e.ownerDocument=="undefined"&&(e.ownerDocument=globalThis.document),typeof e.disableRange!="boolean"&&(e.disableRange=!1),typeof e.disableStream!="boolean"&&(e.disableStream=!1),typeof e.disableAutoFetch!="boolean"&&(e.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(e.verbosity),!F){let E={verbosity:e.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};F=E.port?PDFWorker.fromPort(E):new PDFWorker(E),t._worker=F}let N=t.docId;return F.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");let E=_fetchDocument(F,e,A,N),b=new Promise(function(x){let d;A?d=new _transport_stream.PDFDataTransportStream({length:e.length,initialData:e.initialData,progressiveDone:e.progressiveDone,disableRange:e.disableRange,disableStream:e.disableStream},A):e.data||(d=createPDFNetworkStream({url:e.url,length:e.length,httpHeaders:e.httpHeaders,withCredentials:e.withCredentials,rangeChunkSize:e.rangeChunkSize,disableRange:e.disableRange,disableStream:e.disableStream})),x(d)});return Promise.all([E,b]).then(function([x,d]){if(t.destroyed)throw new Error("Loading aborted");let C=new _message_handler.MessageHandler(N,x,F.port);C.postMessageTransfers=F.postMessageTransfers;let D=new WorkerTransport(C,t,d,e);t._transport=D,C.send("Ready",null)})}).catch(t._capability.reject),t}function _fetchDocument(Q,t,y,e){return Q.destroyed?Promise.reject(new Error("Worker was destroyed")):(y&&(t.length=y.length,t.initialData=y.initialData,t.progressiveDone=y.progressiveDone),Q.messageHandler.sendWithPromise("GetDocRequest",{docId:e,apiVersion:"2.6.347",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:Q.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then(function(A){if(Q.destroyed)throw new Error("Worker was destroyed");return A}))}let PDFDocumentLoadingTask=function(){let t=0;class y{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}return y}();class PDFDataRangeTransport{constructor(t,y,e=!1){this.length=t,this.initialData=y,this.progressiveDone=e,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,y){for(let e of this._rangeListeners)e(t,y)}onDataProgress(t,y){this._readyCapability.promise.then(()=>{for(let e of this._progressListeners)e(t,y)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(let y of this._progressiveReadListeners)y(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,y){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,y){this._pdfInfo=t,this._transport=y}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(t){return this._transport.saveDocument(t)}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,y,e,A,F=!1){this._pageIndex=t,this._pageInfo=y,this._ownerDocument=A,this._transport=e,this._stats=F?new _display_utils.StatTimer:null,this._pdfBug=F,this.commonObjs=e.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:y=this.rotate,offsetX:e=0,offsetY:A=0,dontFlip:F=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:y,offsetX:e,offsetY:A,dontFlip:F})}getAnnotations({intent:t=null}={}){return(!this.annotationsPromise||this.annotationsIntent!==t)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,t),this.annotationsIntent=t),this.annotationsPromise}render({canvasContext:t,viewport:y,intent:e="display",enableWebGL:A=!1,renderInteractiveForms:F=!1,transform:N=null,imageLayer:E=null,canvasFactory:b=null,background:x=null,annotationStorage:d=null,optionalContentConfigPromise:C=null}){this._stats&&this._stats.time("Overall");let D=e==="print"?"print":"display";this.pendingCleanup=!1,C||(C=this._transport.getOptionalContentConfig());let c=this._intentStates.get(D);c||(c=Object.create(null),this._intentStates.set(D,c)),c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null);let m=b||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=new _webgl.WebGLContext({enable:A});c.displayReadyCapability||(c.displayReadyCapability=(0,_util.createPromiseCapability)(),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:D,renderInteractiveForms:F===!0,annotationStorage:d&&d.getAll()||null}));let M=R=>{let f=c.renderTasks.indexOf(v);f>=0&&c.renderTasks.splice(f,1),(this.cleanupAfterRender||D==="print")&&(this.pendingCleanup=!0),this._tryCleanup(),R?(v.capability.reject(R),this._abortOperatorList({intentState:c,reason:R})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},v=new InternalRenderTask({callback:M,params:{canvasContext:t,viewport:y,transform:N,imageLayer:E,background:x},objs:this.objs,commonObjs:this.commonObjs,operatorList:c.operatorList,pageIndex:this._pageIndex,canvasFactory:m,webGLContext:g,useRequestAnimationFrame:D!=="print",pdfBug:this._pdfBug});c.renderTasks||(c.renderTasks=[]),c.renderTasks.push(v);let L=v.task;return Promise.all([c.displayReadyCapability.promise,C]).then(([R,f])=>{if(this.pendingCleanup){M();return}this._stats&&this._stats.time("Rendering"),v.initializeGraphics({transparency:R,optionalContentConfig:f}),v.operatorListChanged()}).catch(M),L}getOperatorList(){function t(){if(e.operatorList.lastChunk){e.opListReadCapability.resolve(e.operatorList);let F=e.renderTasks.indexOf(A);F>=0&&e.renderTasks.splice(F,1)}}let y="oplist",e=this._intentStates.get(y);e||(e=Object.create(null),this._intentStates.set(y,e));let A;return e.opListReadCapability||(A=Object.create(null),A.operatorListChanged=t,e.opListReadCapability=(0,_util.createPromiseCapability)(),e.renderTasks=[],e.renderTasks.push(A),e.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:y})),e.opListReadCapability.promise}streamTextContent({normalizeWhitespace:t=!1,disableCombineTextItems:y=!1}={}){let e=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:t===!0,combineTextItems:y!==!0},{highWaterMark:e,size(A){return A.items.length}})}getTextContent(t={}){let y=this.streamTextContent(t);return new Promise(function(e,A){function F(){N.read().then(function({value:b,done:x}){if(x){e(E);return}Object.assign(E.styles,b.styles),E.items.push(...b.items),F()},A)}let N=y.getReader(),E={items:[],styles:Object.create(null)};F()})}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;let t=[];for(let[y,e]of this._intentStates)if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),y!=="oplist")for(let A of e.renderTasks)t.push(A.completed),A.cancel();return this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:y,operatorList:e}of this._intentStates.values())if(y.length!==0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(t,y){let e=this._intentStates.get(y);!e||(this._stats&&this._stats.timeEnd("Page Request"),e.displayReadyCapability&&e.displayReadyCapability.resolve(t))}_renderPageChunk(t,y){for(let e=0,A=t.length;e<A;e++)y.operatorList.fnArray.push(t.fnArray[e]),y.operatorList.argsArray.push(t.argsArray[e]);y.operatorList.lastChunk=t.lastChunk;for(let e=0;e<y.renderTasks.length;e++)y.renderTasks[e].operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList(t){(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');let e=this._transport.messageHandler.sendWithStream("GetOperatorList",t).getReader(),A=this._intentStates.get(t.intent);A.streamReader=e;let F=()=>{e.read().then(({value:N,done:E})=>{if(E){A.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(N,A),F())},N=>{if(A.streamReader=null,!this._transport.destroyed){if(A.operatorList){A.operatorList.lastChunk=!0;for(let E=0;E<A.renderTasks.length;E++)A.renderTasks[E].operatorListChanged();this._tryCleanup()}if(A.displayReadyCapability)A.displayReadyCapability.reject(N);else if(A.opListReadCapability)A.opListReadCapability.reject(N);else throw N}})};F()}_abortOperatorList({intentState:t,reason:y,force:e=!1}){if((0,_util.assert)(y instanceof Error||typeof y=="object"&&y!==null,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),!!t.streamReader){if(!e){if(t.renderTasks.length!==0)return;if(y instanceof _display_utils.RenderingCancelledException){t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:y,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(t.streamReader.cancel(new _util.AbortException(y&&y.message)),t.streamReader=null,!this._transport.destroyed){for(let[A,F]of this._intentStates)if(F===t){this._intentStates.delete(A);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(t=!0){this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}postMessage(t,y){function e(N){if(typeof N!="object"||N===null)return N;if(A.has(N))return A.get(N);let E,b;if((E=N.buffer)&&(0,_util.isArrayBuffer)(E))return y&&y.includes(E)?b=new N.constructor(E,N.byteOffset,N.byteLength):b=new N.constructor(N),A.set(N,b),b;b=Array.isArray(N)?[]:{},A.set(N,b);for(let x in N){let d,C=N;for(;!(d=Object.getOwnPropertyDescriptor(C,x));)C=Object.getPrototypeOf(C);if(typeof d.value!="undefined"){if(typeof d.value=="function"){if(N.hasOwnProperty&&N.hasOwnProperty(x))throw new Error(`LoopbackPort.postMessage - cannot clone: ${N[x]}`);continue}b[x]=e(d.value)}}return b}if(!this._defer){this._listeners.forEach(N=>{N.call(this,{data:t})});return}let A=new WeakMap,F={data:e(t)};this._deferred.then(()=>{this._listeners.forEach(N=>{N.call(this,F)})})}addEventListener(t,y){this._listeners.push(y)}removeEventListener(t,y){let e=this._listeners.indexOf(y);this._listeners.splice(e,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorker=function(){let pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&typeof xe=="function")isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"&&"currentScript"in document){let Q=document.currentScript&&document.currentScript.src;Q&&(fallbackWorkerSrc=Q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(typeof fallbackWorkerSrc!="undefined")return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let Q;try{Q=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return Q||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();let loader=async function(){let mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof xe=="function"){let worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(Q){let t="importScripts('"+Q+"');";return URL.createObjectURL(new Blob([t]))}class PDFWorker{constructor({name:t=null,port:y=null,verbosity:e=(0,_util.getVerbosityLevel)()}={}){if(y&&pdfWorkerPorts.has(y))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=t,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=e,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,y){pdfWorkerPorts.set(y,this),this._initializeFromPort(y);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker!="undefined"&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let t=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));let y=new Worker(t),e=new _message_handler.MessageHandler("main","worker",y),A=()=>{y.removeEventListener("error",F),e.destroy(),y.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},F=()=>{this._webWorker||A()};y.addEventListener("error",F),e.on("test",E=>{if(y.removeEventListener("error",F),this.destroyed){A();return}E?(this._messageHandler=e,this._port=y,this._webWorker=y,E.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),e.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),e.destroy(),y.terminate())}),e.on("ready",E=>{if(y.removeEventListener("error",F),this.destroyed){A();return}try{N()}catch(b){this._setupFakeWorker()}});let N=()=>{let E=new Uint8Array([this.postMessageTransfers?255:0]);try{e.send("test",E,[E.buffer])}catch(b){(0,_util.warn)("Cannot use postMessage transfers."),E[0]=0,e.send("test",E)}};N();return}catch(y){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let y=new LoopbackPort;this._port=y;let e="fake"+nextFakeWorkerId++,A=new _message_handler.MessageHandler(e+"_worker",e,y);t.setup(A,y);let F=new _message_handler.MessageHandler(e,e+"_worker",y);this._messageHandler=F,this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new PDFWorker(t)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(t,y,e,A){this.messageHandler=t,this.loadingTask=y,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:y.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:A.ownerDocument}),this._params=A,this.CMapReaderFactory=new A.CMapReaderFactory({baseUrl:A.cMapUrl,isCompressed:A.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;let y=this.messageHandler.sendWithPromise("Terminate",null);return t.push(y),Promise.all(t).then(()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:t,loadingTask:y}=this;t.on("GetReader",(e,A)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=F=>{this._lastProgress={loaded:F.loaded,total:F.total}},A.onPull=()=>{this._fullReader.read().then(function({value:F,done:N}){if(N){A.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(F),"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(F),1,[F])}).catch(F=>{A.error(F)})},A.onCancel=F=>{this._fullReader.cancel(F),A.ready.catch(N=>{if(!this.destroyed)throw N})}}),t.on("ReaderHeadersReady",e=>{let A=(0,_util.createPromiseCapability)(),F=this._fullReader;return F.headersReady.then(()=>{(!F.isStreamingSupported||!F.isRangeSupported)&&(this._lastProgress&&y.onProgress&&y.onProgress(this._lastProgress),F.onProgress=N=>{y.onProgress&&y.onProgress({loaded:N.loaded,total:N.total})}),A.resolve({isStreamingSupported:F.isStreamingSupported,isRangeSupported:F.isRangeSupported,contentLength:F.contentLength})},A.reject),A.promise}),t.on("GetRangeReader",(e,A)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let F=this._networkStream.getRangeReader(e.begin,e.end);if(!F){A.close();return}A.onPull=()=>{F.read().then(function({value:N,done:E}){if(E){A.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(N),"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(N),1,[N])}).catch(N=>{A.error(N)})},A.onCancel=N=>{F.cancel(N),A.ready.catch(E=>{if(!this.destroyed)throw E})}}),t.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,y._capability.resolve(new PDFDocumentProxy(e,this))}),t.on("DocException",function(e){let A;switch(e.name){case"PasswordException":A=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":A=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":A=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":A=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":A=new _util.UnknownErrorException(e.message,e.details);break}if(!(A instanceof Error)){let F="DocException - expected a valid Error.";(0,_util.warn)(F)}y._capability.reject(A)}),t.on("PasswordRequest",e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),y.onPassword){let A=F=>{this._passwordCapability.resolve({password:F})};try{y.onPassword(A,e.code)}catch(F){this._passwordCapability.reject(F)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise}),t.on("DataLoaded",e=>{y.onProgress&&y.onProgress({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),t.on("StartRenderPage",e=>{if(this.destroyed)return;this.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),t.on("commonobj",e=>{if(this.destroyed)return;let[A,F,N]=e;if(!this.commonObjs.has(A))switch(F){case"Font":let E=this._params;if("error"in N){let d=N.error;(0,_util.warn)(`Error during font loading: ${d}`),this.commonObjs.resolve(A,d);break}let b=null;E.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(b={registerFont(d,C){globalThis.FontInspector.fontAdded(d,C)}});let x=new _font_loader.FontFaceObject(N,{isEvalSupported:E.isEvalSupported,disableFontFace:E.disableFontFace,ignoreErrors:E.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:b});this.fontLoader.bind(x).catch(d=>t.sendWithPromise("FontFallback",{id:A})).finally(()=>{!E.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(A,x)});break;case"FontPath":case"Image":this.commonObjs.resolve(A,N);break;default:throw new Error(`Got unknown common object type ${F}`)}}),t.on("obj",e=>{if(this.destroyed)return;let[A,F,N,E]=e,b=this.pageCache[F];if(!b.objs.has(A))switch(N){case"Image":b.objs.resolve(A,E);let x=8e6;E&&"data"in E&&E.data.length>x&&(b.cleanupAfterRender=!0);break;default:throw new Error(`Got unknown object type ${N}`)}}),t.on("DocProgress",e=>{this.destroyed||y.onProgress&&y.onProgress({loaded:e.loaded,total:e.total})}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(e,A)=>{if(this.destroyed){A.error(new Error("Worker was destroyed"));return}let F=!1;A.onPull=()=>{if(F){A.close();return}F=!0,this.CMapReaderFactory.fetch(e).then(function(N){A.enqueue(N,1,[N.cMapData.buffer])}).catch(function(N){A.error(N)})}})}_onUnsupportedFeature({featureId:t}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));let y=t-1;if(y in this.pagePromises)return this.pagePromises[y];let e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:y}).then(A=>{if(this.destroyed)throw new Error("Transport destroyed");let F=new PDFPageProxy(y,A,this,this._params.ownerDocument,this._params.pdfBug);return this.pageCache[y]=F,F});return this.pagePromises[y]=e,e}getPageIndex(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch(function(y){return Promise.reject(new Error(y))})}getAnnotations(t,y){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:y})}saveDocument(t){return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:t&&t.getAll()||null,filename:this._fullReader?this._fullReader.filename:null}).finally(()=>{t&&t.resetModified()})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>({info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null}))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let t=0,y=this.pageCache.length;t<y;t++){let e=this.pageCache[t];if(e&&!e.cleanup())throw new Error(`startCleanup: Page ${t+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear()})}get loadingParams(){let t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableFontFace:t.disableFontFace})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(t,y=null){if(y)return this._ensureObj(t).capability.promise.then(y),null;let e=this._objs[t];if(!e||!e.resolved)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return e.data}has(t){let y=this._objs[t];return y?y.resolved:!1}resolve(t,y){let e=this._ensureObj(t);e.resolved=!0,e.data=y,e.capability.resolve(y)}clear(){this._objs=Object.create(null)}}class RenderTask{constructor(t){this._internalRenderTask=t,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}let InternalRenderTask=function(){let t=new WeakSet;class y{constructor({callback:A,params:F,objs:N,commonObjs:E,operatorList:b,pageIndex:x,canvasFactory:d,webGLContext:C,useRequestAnimationFrame:D=!1,pdfBug:c=!1}){this.callback=A,this.params=F,this.objs=N,this.commonObjs=E,this.operatorListIdx=null,this.operatorList=b,this._pageIndex=x,this.canvasFactory=d,this.webGLContext=C,this._pdfBug=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=D===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=F.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:A=!1,optionalContentConfig:F}){if(this.cancelled)return;if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:N,viewport:E,transform:b,imageLayer:x,background:d}=this.params;this.gfx=new _canvas.CanvasGraphics(N,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,x,F),this.gfx.beginDrawing({transform:b,viewport:E,transparency:A,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(A=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback(A||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.delete(this._canvas),this.callback())))}}return y}(),version="2.6.347";exports.version=version;let build="3be9c65f";exports.build=build},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var e=y(2);class A{constructor({docId:b,onUnsupportedFeature:x,ownerDocument:d=globalThis.document}){this.constructor===A&&(0,e.unreachable)("Cannot initialize BaseFontLoader."),this.docId=b,this._onUnsupportedFeature=x,this._document=d,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(b){this.nativeFontFaces.push(b),this._document.fonts.add(b)}insertRule(b){let x=this.styleElement;x||(x=this.styleElement=this._document.createElement("style"),x.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(x));let d=x.sheet;d.insertRule(b,d.cssRules.length)}clear(){this.nativeFontFaces.forEach(b=>{this._document.fonts.delete(b)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(b){if(b.attached||b.missingFile)return;if(b.attached=!0,this.isFontLoadingAPISupported){let d=b.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(C){throw this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,e.warn)(`Failed to load font '${d.family}': '${C}'.`),b.disableFontFace=!0,C}}return}let x=b.createFontFaceRule();if(x){if(this.insertRule(x),this.isSyncFontLoadingSupported)return;await new Promise(d=>{let C=this._queueLoadingCallback(d);this._prepareFontLoadEvent([x],[b],C)})}}_queueLoadingCallback(b){(0,e.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let b=typeof this._document!="undefined"&&!!this._document.fonts;return(0,e.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){(0,e.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,e.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(b,x,d){(0,e.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let F;t.FontLoader=F,t.FontLoader=F=class extends A{constructor(b){super(b);this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let b=!1;if(typeof navigator=="undefined")b=!0;else{let x=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);x&&x[1]>=14&&(b=!0)}return(0,e.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function x(){for((0,e.assert)(!C.done,"completeRequest() cannot be called twice."),C.done=!0;d.requests.length>0&&d.requests[0].done;){let D=d.requests.shift();setTimeout(D.callback,0)}}let d=this.loadingContext,C={id:`pdfjs-font-loading-${d.nextRequestId++}`,done:!1,complete:x,callback:b};return d.requests.push(C),C}get _loadTestFont(){let b=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,e.shadow)(this,"_loadTestFont",b())}_prepareFontLoadEvent(b,x,d){function C(O,k){return O.charCodeAt(k)<<24|O.charCodeAt(k+1)<<16|O.charCodeAt(k+2)<<8|O.charCodeAt(k+3)&255}function D(O,k,z,W){let I=O.substring(0,k),n=O.substring(k+z);return I+W+n}let c,m,g=this._document.createElement("canvas");g.width=1,g.height=1;let M=g.getContext("2d"),v=0;function L(O,k){if(v++,v>30){(0,e.warn)("Load test font never loaded."),k();return}if(M.font="30px "+O,M.fillText(".",0,20),M.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(L.bind(null,O,k))}let R=`lt${Date.now()}${this.loadTestFontId++}`,f=this._loadTestFont;f=D(f,976,R.length,R);let a=16,p=1482184792,h=C(f,a);for(c=0,m=R.length-3;c<m;c+=4)h=h-p+C(R,c)|0;c<R.length&&(h=h-p+C(R+"XXX",c)|0),f=D(f,a,4,(0,e.string32)(h));let o=`url(data:font/opentype;base64,${btoa(f)});`,S=`@font-face {font-family:"${R}";src:${o}}`;this.insertRule(S);let P=[];for(c=0,m=x.length;c<m;c++)P.push(x[c].loadedName);P.push(R);let G=this._document.createElement("div");for(G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px",c=0,m=P.length;c<m;++c){let O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=P[c],G.appendChild(O)}this._document.body.appendChild(G),L(R,()=>{this._document.body.removeChild(G),d.complete()})}};class N{constructor(b,{isEvalSupported:x=!0,disableFontFace:d=!1,ignoreErrors:C=!1,onUnsupportedFeature:D=null,fontRegistry:c=null}){this.compiledGlyphs=Object.create(null);for(let m in b)this[m]=b[m];this.isEvalSupported=x!==!1,this.disableFontFace=d===!0,this.ignoreErrors=C===!0,this._onUnsupportedFeature=D,this.fontRegistry=c}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let b=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),b}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let b=(0,e.bytesToString)(new Uint8Array(this.data)),x=`url(data:${this.mimetype};base64,${btoa(b)});`,d=`@font-face {font-family:"${this.loadedName}";src:${x}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,x),d}getPathGenerator(b,x){if(this.compiledGlyphs[x]!==void 0)return this.compiledGlyphs[x];let d,C;try{d=b.get(this.loadedName+"_path_"+x)}catch(D){if(!this.ignoreErrors)throw D;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,e.warn)(`getPathGenerator - ignoring character: "${D}".`),this.compiledGlyphs[x]=function(c,m){}}if(this.isEvalSupported&&e.IsEvalSupportedCached.value){let D,c="";for(let m=0,g=d.length;m<g;m++)C=d[m],C.args!==void 0?D=C.args.join(","):D="",c+="c."+C.cmd+"("+D+`);
`;return this.compiledGlyphs[x]=new Function("c","size",c)}return this.compiledGlyphs[x]=function(D,c){for(let m=0,g=d.length;m<g;m++)C=d[m],C.cmd==="scale"&&(C.args=[c,-c]),D[C.cmd].apply(D,C.args)}}}t.FontFaceObject=N},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var e=y(1),A=y(4),F=y(2);let N=class{constructor(){(0,F.unreachable)("Not implemented: NodeCanvasFactory")}};t.NodeCanvasFactory=N;let E=class{constructor(){(0,F.unreachable)("Not implemented: NodeCMapReaderFactory")}};t.NodeCMapReaderFactory=E,A.isNodeJS&&(t.NodeCanvasFactory=N=class extends e.BaseCanvasFactory{create(b,x){if(b<=0||x<=0)throw new Error("Invalid canvas size");let C=xe("canvas").createCanvas(b,x);return{canvas:C,context:C.getContext("2d")}}},t.NodeCMapReaderFactory=E=class extends e.BaseCMapReaderFactory{_fetchData(b,x){return new Promise((d,C)=>{Re().readFile(b,(c,m)=>{if(c||!m){C(new Error(c));return}d({cMapData:new Uint8Array(m),compressionType:x})})})}})},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;class e{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getOrCreateValue(F,N){return this._storage.has(F)?this._storage.get(F):(this._storage.set(F,N),N)}setValue(F,N){this._storage.get(F)!==N&&this._setModified(),this._storage.set(F,N)}getAll(){return this._storage.size===0?null:Object.fromEntries(this._storage)}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}}t.AnnotationStorage=e},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var e=y(4);let A=Object.create(null);(function(){e.isNodeJS&&(A.disableFontFace=!0)})();let F=Object.freeze(A);t.apiCompatibilityParams=F},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var e=y(2),A=y(11),F=16,N=100,E=4096,b=.65,x=!0,d=1e3,C=16;function D(v){v.mozCurrentTransform||(v._originalSave=v.save,v._originalRestore=v.restore,v._originalRotate=v.rotate,v._originalScale=v.scale,v._originalTranslate=v.translate,v._originalTransform=v.transform,v._originalSetTransform=v.setTransform,v._transformMatrix=v._transformMatrix||[1,0,0,1,0,0],v._transformStack=[],Object.defineProperty(v,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(v,"mozCurrentTransformInverse",{get:function(){var R=this._transformMatrix,f=R[0],r=R[1],a=R[2],p=R[3],h=R[4],o=R[5],S=f*p-r*a,P=r*a-f*p;return[p/S,r/P,a/P,f/S,(p*h-a*o)/P,(r*h-f*o)/S]}}),v.save=function(){var R=this._transformMatrix;this._transformStack.push(R),this._transformMatrix=R.slice(0,6),this._originalSave()},v.restore=function(){var R=this._transformStack.pop();R&&(this._transformMatrix=R,this._originalRestore())},v.translate=function(R,f){var r=this._transformMatrix;r[4]=r[0]*R+r[2]*f+r[4],r[5]=r[1]*R+r[3]*f+r[5],this._originalTranslate(R,f)},v.scale=function(R,f){var r=this._transformMatrix;r[0]=r[0]*R,r[1]=r[1]*R,r[2]=r[2]*f,r[3]=r[3]*f,this._originalScale(R,f)},v.transform=function(R,f,r,a,p,h){var o=this._transformMatrix;this._transformMatrix=[o[0]*R+o[2]*f,o[1]*R+o[3]*f,o[0]*r+o[2]*a,o[1]*r+o[3]*a,o[0]*p+o[2]*h+o[4],o[1]*p+o[3]*h+o[5]],v._originalTransform(R,f,r,a,p,h)},v.setTransform=function(R,f,r,a,p,h){this._transformMatrix=[R,f,r,a,p,h],v._originalSetTransform(R,f,r,a,p,h)},v.rotate=function(R){var f=Math.cos(R),r=Math.sin(R),a=this._transformMatrix;this._transformMatrix=[a[0]*f+a[2]*r,a[1]*f+a[3]*r,a[0]*-r+a[2]*f,a[1]*-r+a[3]*f,a[4],a[5]],this._originalRotate(R)})}var c=function(){function L(R){this.canvasFactory=R,this.cache=Object.create(null)}return L.prototype={getCanvas:function(f,r,a,p){var h;return this.cache[f]!==void 0?(h=this.cache[f],this.canvasFactory.reset(h,r,a),h.context.setTransform(1,0,0,1,0,0)):(h=this.canvasFactory.create(r,a),this.cache[f]=h),p&&D(h.context),h},clear(){for(var R in this.cache){var f=this.cache[R];this.canvasFactory.destroy(f),delete this.cache[R]}}},L}();function m(v){var L=1e3,R=v.width,f=v.height,r,a,p,h=R+1,o=new Uint8Array(h*(f+1)),S=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),P=R+7&~7,G=v.data,O=new Uint8Array(P*f),k=0,z;for(r=0,z=G.length;r<z;r++)for(var W=128,I=G[r];W>0;)O[k++]=I&W?0:255,W>>=1;var n=0;for(k=0,O[k]!==0&&(o[0]=1,++n),a=1;a<R;a++)O[k]!==O[k+1]&&(o[a]=O[k]?2:1,++n),k++;for(O[k]!==0&&(o[a]=2,++n),r=1;r<f;r++){k=r*P,p=r*h,O[k-P]!==O[k]&&(o[p]=O[k]?1:8,++n);var l=(O[k]?4:0)+(O[k-P]?8:0);for(a=1;a<R;a++)l=(l>>2)+(O[k+1]?4:0)+(O[k-P+1]?8:0),S[l]&&(o[p+a]=S[l],++n),k++;if(O[k-P]!==O[k]&&(o[p+a]=O[k]?2:4,++n),n>L)return null}for(k=P*(f-1),p=r*h,O[k]!==0&&(o[p]=8,++n),a=1;a<R;a++)O[k]!==O[k+1]&&(o[p+a]=O[k]?4:8,++n),k++;if(O[k]!==0&&(o[p+a]=4,++n),n>L)return null;var s=new Int32Array([0,h,-1,0,-h,0,0,0,1]),i=[];for(r=0;n&&r<=f;r++){for(var u=r*h,_=u+R;u<_&&!o[u];)u++;if(u!==_){var T=[u%h,r],w=o[u],q=u,H;do{var V=s[w];do u+=V;while(!o[u]);H=o[u],H!==5&&H!==10?(w=H,o[u]=0):(w=H&51*w>>4,o[u]&=w>>2|w<<2),T.push(u%h),T.push(u/h|0),o[u]||--n}while(q!==u);i.push(T),--r}}var $=function(X){X.save(),X.scale(1/R,-1/f),X.translate(0,-f),X.beginPath();for(let K=0,ee=i.length;K<ee;K++){var Y=i[K];X.moveTo(Y[0],Y[1]);for(let Z=2,te=Y.length;Z<te;Z+=2)X.lineTo(Y[Z],Y[Z+1])}X.fill(),X.beginPath(),X.restore()};return $}var g=function(){function L(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return L.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(f,r){this.x=f,this.y=r}},L}(),M=function(){var L=15,R=10;function f(l,s,i,u,_,T,w){this.ctx=l,this.current=new g,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=i,this.canvasFactory=u,this.webGLContext=_,this.imageLayer=T,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new c(this.canvasFactory),l&&D(l),this._cachedGetSinglePixelWidth=null}function r(l,s,i=null){if(typeof ImageData!="undefined"&&s instanceof ImageData){l.putImageData(s,0,0);return}var u=s.height,_=s.width,T=u%C,w=(u-T)/C,q=T===0?w:w+1,H=l.createImageData(_,C),V=0,$,X=s.data,Y=H.data,K,ee,Z,te;let ie,se,ne,ue;if(i)switch(i.length){case 1:ie=i[0],se=i[0],ne=i[0],ue=i[0];break;case 4:ie=i[0],se=i[1],ne=i[2],ue=i[3];break}if(s.kind===e.ImageKind.GRAYSCALE_1BPP){var ce=X.byteLength,ae=new Uint32Array(Y.buffer,0,Y.byteLength>>2),me=ae.length,Ce=_+7>>3,fe=4294967295,de=e.IsLittleEndianCached.value?4278190080:255;for(ue&&ue[0]===255&&ue[255]===0&&([fe,de]=[de,fe]),K=0;K<q;K++){for(Z=K<w?C:T,$=0,ee=0;ee<Z;ee++){var _e=ce-V;let he=0;for(var Ae=_e>Ce?_:_e*8-7,be=Ae&~7,ve=0,pe=0;he<be;he+=8)pe=X[V++],ae[$++]=pe&128?fe:de,ae[$++]=pe&64?fe:de,ae[$++]=pe&32?fe:de,ae[$++]=pe&16?fe:de,ae[$++]=pe&8?fe:de,ae[$++]=pe&4?fe:de,ae[$++]=pe&2?fe:de,ae[$++]=pe&1?fe:de;for(;he<Ae;he++)ve===0&&(pe=X[V++],ve=128),ae[$++]=pe&ve?fe:de,ve>>=1}for(;$<me;)ae[$++]=0;l.putImageData(H,0,K*C)}}else if(s.kind===e.ImageKind.RGBA_32BPP){let he=!!(ie||se||ne);for(ee=0,te=_*C*4,K=0;K<w;K++){if(Y.set(X.subarray(V,V+te)),V+=te,he)for(let j=0;j<te;j+=4)ie&&(Y[j+0]=ie[Y[j+0]]),se&&(Y[j+1]=se[Y[j+1]]),ne&&(Y[j+2]=ne[Y[j+2]]);l.putImageData(H,0,ee),ee+=C}if(K<q){if(te=_*T*4,Y.set(X.subarray(V,V+te)),he)for(let j=0;j<te;j+=4)ie&&(Y[j+0]=ie[Y[j+0]]),se&&(Y[j+1]=se[Y[j+1]]),ne&&(Y[j+2]=ne[Y[j+2]]);l.putImageData(H,0,ee)}}else if(s.kind===e.ImageKind.RGB_24BPP){let he=!!(ie||se||ne);for(Z=C,te=_*Z,K=0;K<q;K++){for(K>=w&&(Z=T,te=_*Z),$=0,ee=te;ee--;)Y[$++]=X[V++],Y[$++]=X[V++],Y[$++]=X[V++],Y[$++]=255;if(he)for(let j=0;j<$;j+=4)ie&&(Y[j+0]=ie[Y[j+0]]),se&&(Y[j+1]=se[Y[j+1]]),ne&&(Y[j+2]=ne[Y[j+2]]);l.putImageData(H,0,K*C)}}else throw new Error(`bad image kind: ${s.kind}`)}function a(l,s){for(var i=s.height,u=s.width,_=i%C,T=(i-_)/C,w=_===0?T:T+1,q=l.createImageData(u,C),H=0,V=s.data,$=q.data,X=0;X<w;X++){for(var Y=X<T?C:_,K=3,ee=0;ee<Y;ee++)for(var Z=0,te=0;te<u;te++){if(!Z){var ie=V[H++];Z=128}$[K]=ie&Z?0:255,K+=4,Z>>=1}l.putImageData(q,0,X*C)}}function p(l,s){for(var i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],u=0,_=i.length;u<_;u++){var T=i[u];l[T]!==void 0&&(s[T]=l[T])}l.setLineDash!==void 0&&(s.setLineDash(l.getLineDash()),s.lineDashOffset=l.lineDashOffset)}function h(l){l.strokeStyle="#000000",l.fillStyle="#000000",l.fillRule="nonzero",l.globalAlpha=1,l.lineWidth=1,l.lineCap="butt",l.lineJoin="miter",l.miterLimit=10,l.globalCompositeOperation="source-over",l.font="10px sans-serif",l.setLineDash!==void 0&&(l.setLineDash([]),l.lineDashOffset=0)}function o(l,s,i,u){for(var _=l.length,T=3;T<_;T+=4){var w=l[T];if(w===0)l[T-3]=s,l[T-2]=i,l[T-1]=u;else if(w<255){var q=255-w;l[T-3]=l[T-3]*w+s*q>>8,l[T-2]=l[T-2]*w+i*q>>8,l[T-1]=l[T-1]*w+u*q>>8}}}function S(l,s,i){for(var u=l.length,_=1/255,T=3;T<u;T+=4){var w=i?i[l[T]]:l[T];s[T]=s[T]*w*_|0}}function P(l,s,i){for(var u=l.length,_=3;_<u;_+=4){var T=l[_-3]*77+l[_-2]*152+l[_-1]*28;s[_]=i?s[_]*i[T>>8]>>8:s[_]*T>>16}}function G(l,s,i,u,_,T,w){var q=!!T,H=q?T[0]:0,V=q?T[1]:0,$=q?T[2]:0,X;_==="Luminosity"?X=P:X=S;for(var Y=1048576,K=Math.min(u,Math.ceil(Y/i)),ee=0;ee<u;ee+=K){var Z=Math.min(K,u-ee),te=l.getImageData(0,ee,i,Z),ie=s.getImageData(0,ee,i,Z);q&&o(te.data,H,V,$),X(te.data,ie.data,w),l.putImageData(ie,0,ee)}}function O(l,s,i,u){var _=s.canvas,T=s.context;l.setTransform(s.scaleX,0,0,s.scaleY,s.offsetX,s.offsetY);var w=s.backdrop||null;if(!s.transferMap&&u.isEnabled){let q=u.composeSMask({layer:i.canvas,mask:_,properties:{subtype:s.subtype,backdrop:w}});l.setTransform(1,0,0,1,0,0),l.drawImage(q,s.offsetX,s.offsetY);return}G(T,i,_.width,_.height,s.subtype,w,s.transferMap),l.drawImage(_,0,0)}var k=["butt","round","square"],z=["miter","round","bevel"],W={},I={};f.prototype={beginDrawing({transform:l,viewport:s,transparency:i=!1,background:u=null}){var _=this.ctx.canvas.width,T=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=u||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,_,T),this.ctx.restore(),i){var w=this.cachedCanvases.getCanvas("transparent",_,T,!0);this.compositeCtx=this.ctx,this.transparentCanvas=w.canvas,this.ctx=w.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),h(this.ctx),l&&this.ctx.transform.apply(this.ctx,l),this.ctx.transform.apply(this.ctx,s.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(s,i,u,_){var T=s.argsArray,w=s.fnArray,q=i||0,H=T.length;if(H===q)return q;for(var V=H-q>R&&typeof u=="function",$=V?Date.now()+L:0,X=0,Y=this.commonObjs,K=this.objs,ee;;){if(_!==void 0&&q===_.nextBreakPoint)return _.breakIt(q,u),q;if(ee=w[q],ee!==e.OPS.dependency)this[ee].apply(this,T[q]);else for(let Z of T[q]){let te=Z.startsWith("g_")?Y:K;if(!te.has(Z))return te.get(Z,u),q}if(q++,q===H)return q;if(V&&++X>R){if(Date.now()>$)return u(),q;X=0}}},endDrawing:function(){this.current.activeSMask!==null&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(s){this.current.lineWidth=s,this.ctx.lineWidth=s},setLineCap:function(s){this.ctx.lineCap=k[s]},setLineJoin:function(s){this.ctx.lineJoin=z[s]},setMiterLimit:function(s){this.ctx.miterLimit=s},setDash:function(s,i){var u=this.ctx;u.setLineDash!==void 0&&(u.setLineDash(s),u.lineDashOffset=i)},setRenderingIntent(l){},setFlatness(l){},setGState:function(s){for(var i=0,u=s.length;i<u;i++){var _=s[i],T=_[0],w=_[1];switch(T){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=_[1];break;case"ca":this.current.fillAlpha=_[1],this.ctx.globalAlpha=_[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=w?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=w}}},beginSMaskGroup:function(){var s=this.current.activeSMask,i=s.canvas.width,u=s.canvas.height,_="smaskGroupAt"+this.groupLevel,T=this.cachedCanvases.getCanvas(_,i,u,!0),w=this.ctx,q=w.mozCurrentTransform;this.ctx.save();var H=T.context;H.scale(1/s.scaleX,1/s.scaleY),H.translate(-s.offsetX,-s.offsetY),H.transform.apply(H,q),s.startTransformInverse=H.mozCurrentTransformInverse,p(w,H),this.ctx=H,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(w),this.groupLevel++},suspendSMaskGroup:function(){var s=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),O(this.ctx,this.current.activeSMask,s,this.webGLContext),this.ctx.restore(),this.ctx.save(),p(s,this.ctx),this.current.resumeSMaskCtx=s;var i=e.Util.transform(this.current.activeSMask.startTransformInverse,s.mozCurrentTransform);this.ctx.transform.apply(this.ctx,i),s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,s.canvas.width,s.canvas.height),s.restore()},resumeSMaskGroup:function(){var s=this.current.resumeSMaskCtx,i=this.ctx;this.ctx=s,this.groupStack.push(i),this.groupLevel++},endSMaskGroup:function(){var s=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),O(this.ctx,this.current.activeSMask,s,this.webGLContext),this.ctx.restore(),p(s,this.ctx);var i=e.Util.transform(this.current.activeSMask.startTransformInverse,s.mozCurrentTransform);this.ctx.transform.apply(this.ctx,i)},save:function(){this.ctx.save();var s=this.current;this.stateStack.push(s),this.current=s.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),this.current.activeSMask!==null&&(this.stateStack.length===0||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(s,i,u,_,T,w){this.ctx.transform(s,i,u,_,T,w),this._cachedGetSinglePixelWidth=null},constructPath:function(s,i){for(var u=this.ctx,_=this.current,T=_.x,w=_.y,q=0,H=0,V=s.length;q<V;q++)switch(s[q]|0){case e.OPS.rectangle:T=i[H++],w=i[H++];var $=i[H++],X=i[H++];$===0&&u.lineWidth<this.getSinglePixelWidth()&&($=this.getSinglePixelWidth()),X===0&&u.lineWidth<this.getSinglePixelWidth()&&(X=this.getSinglePixelWidth());var Y=T+$,K=w+X;u.moveTo(T,w),u.lineTo(Y,w),u.lineTo(Y,K),u.lineTo(T,K),u.lineTo(T,w),u.closePath();break;case e.OPS.moveTo:T=i[H++],w=i[H++],u.moveTo(T,w);break;case e.OPS.lineTo:T=i[H++],w=i[H++],u.lineTo(T,w);break;case e.OPS.curveTo:T=i[H+4],w=i[H+5],u.bezierCurveTo(i[H],i[H+1],i[H+2],i[H+3],T,w),H+=6;break;case e.OPS.curveTo2:u.bezierCurveTo(T,w,i[H],i[H+1],i[H+2],i[H+3]),T=i[H+2],w=i[H+3],H+=4;break;case e.OPS.curveTo3:T=i[H+2],w=i[H+3],u.bezierCurveTo(i[H],i[H+1],T,w,T,w),H+=4;break;case e.OPS.closePath:u.closePath();break}_.setCurrentPoint(T,w)},closePath:function(){this.ctx.closePath()},stroke:function(s){s=typeof s!="undefined"?s:!0;var i=this.ctx,u=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(u&&u.hasOwnProperty("type")&&u.type==="Pattern"){i.save();let _=i.mozCurrentTransform,T=e.Util.singularValueDecompose2dScale(_)[0];i.strokeStyle=u.getPattern(i,this),i.lineWidth=Math.max(this.getSinglePixelWidth()*b,this.current.lineWidth*T),i.stroke(),i.restore()}else i.lineWidth=Math.max(this.getSinglePixelWidth()*b,this.current.lineWidth),i.stroke();s&&this.consumePath(),i.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(s){s=typeof s!="undefined"?s:!0;var i=this.ctx,u=this.current.fillColor,_=this.current.patternFill,T=!1;_&&(i.save(),this.baseTransform&&i.setTransform.apply(i,this.baseTransform),i.fillStyle=u.getPattern(i,this),T=!0),this.contentVisible&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),T&&i.restore(),s&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=W},eoClip:function(){this.pendingClip=I},beginText:function(){this.current.textMatrix=e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var s=this.pendingTextPaths,i=this.ctx;if(s===void 0){i.beginPath();return}i.save(),i.beginPath();for(var u=0;u<s.length;u++){var _=s[u];i.setTransform.apply(i,_.transform),i.translate(_.x,_.y),_.addToPath(i,_.fontSize)}i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(s){this.current.charSpacing=s},setWordSpacing:function(s){this.current.wordSpacing=s},setHScale:function(s){this.current.textHScale=s/100},setLeading:function(s){this.current.leading=-s},setFont:function(s,i){var u=this.commonObjs.get(s),_=this.current;if(!u)throw new Error(`Can't find font for ${s}`);if(_.fontMatrix=u.fontMatrix?u.fontMatrix:e.FONT_IDENTITY_MATRIX,(_.fontMatrix[0]===0||_.fontMatrix[3]===0)&&(0,e.warn)("Invalid font matrix for font "+s),i<0?(i=-i,_.fontDirection=-1):_.fontDirection=1,this.current.font=u,this.current.fontSize=i,u.isType3Font)return;var T=u.loadedName||"sans-serif";let w="normal";u.black?w="900":u.bold&&(w="bold");var q=u.italic?"italic":"normal",H=`"${T}", ${u.fallbackName}`;let V=i;i<F?V=F:i>N&&(V=N),this.current.fontSizeScale=i/V,this.ctx.font=`${q} ${w} ${V}px ${H}`},setTextRenderingMode:function(s){this.current.textRenderingMode=s},setTextRise:function(s){this.current.textRise=s},moveText:function(s,i){this.current.x=this.current.lineX+=s,this.current.y=this.current.lineY+=i},setLeadingMoveText:function(s,i){this.setLeading(-i),this.moveText(s,i)},setTextMatrix:function(s,i,u,_,T,w){this.current.textMatrix=[s,i,u,_,T,w],this.current.textMatrixScale=Math.sqrt(s*s+i*i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(l,s,i,u){var _=this.ctx,T=this.current,w=T.font,q=T.textRenderingMode,H=T.fontSize/T.fontSizeScale,V=q&e.TextRenderingMode.FILL_STROKE_MASK,$=!!(q&e.TextRenderingMode.ADD_TO_PATH_FLAG);let X=T.patternFill&&!w.missingFile;var Y;if((w.disableFontFace||$||X)&&(Y=w.getPathGenerator(this.commonObjs,l)),w.disableFontFace||X?(_.save(),_.translate(s,i),_.beginPath(),Y(_,H),u&&_.setTransform.apply(_,u),(V===e.TextRenderingMode.FILL||V===e.TextRenderingMode.FILL_STROKE)&&_.fill(),(V===e.TextRenderingMode.STROKE||V===e.TextRenderingMode.FILL_STROKE)&&_.stroke(),_.restore()):((V===e.TextRenderingMode.FILL||V===e.TextRenderingMode.FILL_STROKE)&&_.fillText(l,s,i),(V===e.TextRenderingMode.STROKE||V===e.TextRenderingMode.FILL_STROKE)&&_.strokeText(l,s,i)),$){var K=this.pendingTextPaths||(this.pendingTextPaths=[]);K.push({transform:_.mozCurrentTransform,x:s,y:i,fontSize:H,addToPath:Y})}},get isFontSubpixelAAEnabled(){let{context:l}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);l.scale(1.5,1),l.fillText("I",0,10);for(var s=l.getImageData(0,0,10,10).data,i=!1,u=3;u<s.length;u+=4)if(s[u]>0&&s[u]<255){i=!0;break}return(0,e.shadow)(this,"isFontSubpixelAAEnabled",i)},showText:function(s){var i=this.current,u=i.font;if(u.isType3Font)return this.showType3Text(s);var _=i.fontSize;if(_===0)return;var T=this.ctx,w=i.fontSizeScale,q=i.charSpacing,H=i.wordSpacing,V=i.fontDirection,$=i.textHScale*V,X=s.length,Y=u.vertical,K=Y?1:-1,ee=u.defaultVMetrics,Z=_*i.fontMatrix[0],te=i.textRenderingMode===e.TextRenderingMode.FILL&&!u.disableFontFace&&!i.patternFill;T.save();let ie;if(i.patternFill){T.save();let le=i.fillColor.getPattern(T,this);ie=T.mozCurrentTransform,T.restore(),T.fillStyle=le}T.transform.apply(T,i.textMatrix),T.translate(i.x,i.y+i.textRise),V>0?T.scale($,-1):T.scale($,1);var se=i.lineWidth,ne=i.textMatrixScale;if(ne===0||se===0){var ue=i.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;(ue===e.TextRenderingMode.STROKE||ue===e.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,se=this.getSinglePixelWidth()*b)}else se/=ne;w!==1&&(T.scale(w,w),se/=w),T.lineWidth=se;var ce=0,ae;for(ae=0;ae<X;++ae){var me=s[ae];if((0,e.isNum)(me)){ce+=K*me*_/1e3;continue}var Ce=!1,fe=(me.isSpace?H:0)+q,de=me.fontChar,_e=me.accent,Ae,be,ve,pe,he=me.width;if(Y){var j,U,B;j=me.vmetric||ee,U=me.vmetric?j[1]:he*.5,U=-U*Z,B=j[2]*Z,he=j?-j[0]:he,Ae=U/w,be=(ce+B)/w}else Ae=ce/w,be=0;if(u.remeasure&&he>0){var J=T.measureText(de).width*1e3/_*w;if(he<J&&this.isFontSubpixelAAEnabled){var re=he/J;Ce=!0,T.save(),T.scale(re,1),Ae/=re}else he!==J&&(Ae+=(he-J)/2e3*_/w)}this.contentVisible&&(me.isInFont||u.missingFile)&&(te&&!_e?T.fillText(de,Ae,be):(this.paintChar(de,Ae,be,ie),_e&&(ve=Ae+_*_e.offset.x/w,pe=be-_*_e.offset.y/w,this.paintChar(_e.fontChar,ve,pe,ie))));var oe;Y?oe=he*Z-fe*V:oe=he*Z+fe*V,ce+=oe,Ce&&T.restore()}Y?i.y-=ce:i.x+=ce*$,T.restore()},showType3Text:function(s){var i=this.ctx,u=this.current,_=u.font,T=u.fontSize,w=u.fontDirection,q=_.vertical?1:-1,H=u.charSpacing,V=u.wordSpacing,$=u.textHScale*w,X=u.fontMatrix||e.FONT_IDENTITY_MATRIX,Y=s.length,K=u.textRenderingMode===e.TextRenderingMode.INVISIBLE,ee,Z,te,ie;if(!(K||T===0)){for(this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,u.textMatrix),i.translate(u.x,u.y),i.scale($,w),ee=0;ee<Y;++ee){if(Z=s[ee],(0,e.isNum)(Z)){ie=q*Z*T/1e3,this.ctx.translate(ie,0),u.x+=ie*$;continue}var se=(Z.isSpace?V:0)+H,ne=_.charProcOperatorList[Z.operatorListId];if(!ne){(0,e.warn)(`Type3 character "${Z.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Z,this.save(),i.scale(T,T),i.transform.apply(i,X),this.executeOperatorList(ne),this.restore());var ue=e.Util.applyTransform([Z.width,0],X);te=ue[0]*T+se,i.translate(te,0),u.x+=te*$}i.restore(),this.processingType3=null}},setCharWidth:function(s,i){},setCharWidthAndBounds:function(s,i,u,_,T,w){this.ctx.rect(u,_,T-u,w-_),this.clip(),this.endPath()},getColorN_Pattern:function(s){var i;if(s[0]==="TilingPattern"){var u=s[1],_=this.baseTransform||this.ctx.mozCurrentTransform.slice(),T={createCanvasGraphics:w=>new f(w,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)};i=new A.TilingPattern(s,u,this.ctx,T,_)}else i=(0,A.getShadingPatternFromIR)(s);return i},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(s,i,u){var _=e.Util.makeCssRgb(s,i,u);this.ctx.strokeStyle=_,this.current.strokeColor=_},setFillRGBColor:function(s,i,u){var _=e.Util.makeCssRgb(s,i,u);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1},shadingFill:function(s){if(!!this.contentVisible){var i=this.ctx;this.save();var u=(0,A.getShadingPatternFromIR)(s);i.fillStyle=u.getPattern(i,this,!0);var _=i.mozCurrentTransformInverse;if(_){var T=i.canvas,w=T.width,q=T.height,H=e.Util.applyTransform([0,0],_),V=e.Util.applyTransform([0,q],_),$=e.Util.applyTransform([w,0],_),X=e.Util.applyTransform([w,q],_),Y=Math.min(H[0],V[0],$[0],X[0]),K=Math.min(H[1],V[1],$[1],X[1]),ee=Math.max(H[0],V[0],$[0],X[0]),Z=Math.max(H[1],V[1],$[1],X[1]);this.ctx.fillRect(Y,K,ee-Y,Z-K)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,e.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,e.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(s,i){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(s)&&s.length===6&&this.transform.apply(this,s),this.baseTransform=this.ctx.mozCurrentTransform,i)){var u=i[2]-i[0],_=i[3]-i[1];this.ctx.rect(i[0],i[1],u,_),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(s){if(!!this.contentVisible){this.save();var i=this.ctx;s.isolated||(0,e.info)("TODO: Support non-isolated groups."),s.knockout&&(0,e.warn)("Knockout groups not supported.");var u=i.mozCurrentTransform;if(s.matrix&&i.transform.apply(i,s.matrix),!s.bbox)throw new Error("Bounding box is required.");var _=e.Util.getAxialAlignedBoundingBox(s.bbox,i.mozCurrentTransform),T=[0,0,i.canvas.width,i.canvas.height];_=e.Util.intersect(_,T)||[0,0,0,0];var w=Math.floor(_[0]),q=Math.floor(_[1]),H=Math.max(Math.ceil(_[2])-w,1),V=Math.max(Math.ceil(_[3])-q,1),$=1,X=1;H>E&&($=H/E,H=E),V>E&&(X=V/E,V=E);var Y="groupAt"+this.groupLevel;s.smask&&(Y+="_smask_"+this.smaskCounter++%2);var K=this.cachedCanvases.getCanvas(Y,H,V,!0),ee=K.context;ee.scale(1/$,1/X),ee.translate(-w,-q),ee.transform.apply(ee,u),s.smask?this.smaskStack.push({canvas:K.canvas,context:ee,offsetX:w,offsetY:q,scaleX:$,scaleY:X,subtype:s.smask.subtype,backdrop:s.smask.backdrop,transferMap:s.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(w,q),i.scale($,X)),p(i,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(s){if(!!this.contentVisible){this.groupLevel--;var i=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled!==void 0?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,s.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(i.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(s,i,u){if(this.save(),h(this.ctx),this.current=new g,Array.isArray(s)&&s.length===4){var _=s[2]-s[0],T=s[3]-s[1];this.ctx.rect(s[0],s[1],_,T),this.clip(),this.endPath()}this.transform.apply(this,i),this.transform.apply(this,u)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(s){if(!!this.contentVisible){var i=this.ctx,u=s.width,_=s.height,T=this.current.fillColor,w=this.current.patternFill,q=this.processingType3;if(x&&q&&q.compiled===void 0&&(u<=d&&_<=d?q.compiled=m({data:s.data,width:u,height:_}):q.compiled=null),q&&q.compiled){q.compiled(i);return}var H=this.cachedCanvases.getCanvas("maskCanvas",u,_),V=H.context;V.save(),a(V,s),V.globalCompositeOperation="source-in",V.fillStyle=w?T.getPattern(V,this):T,V.fillRect(0,0,u,_),V.restore(),this.paintInlineImageXObject(H.canvas)}},paintImageMaskXObjectRepeat(l,s,i=0,u=0,_,T){if(!!this.contentVisible){var w=l.width,q=l.height,H=this.current.fillColor,V=this.current.patternFill,$=this.cachedCanvases.getCanvas("maskCanvas",w,q),X=$.context;X.save(),a(X,l),X.globalCompositeOperation="source-in",X.fillStyle=V?H.getPattern(X,this):H,X.fillRect(0,0,w,q),X.restore();for(var Y=this.ctx,K=0,ee=T.length;K<ee;K+=2)Y.save(),Y.transform(s,i,u,_,T[K],T[K+1]),Y.scale(1,-1),Y.drawImage($.canvas,0,0,w,q,0,-1,1,1),Y.restore()}},paintImageMaskXObjectGroup:function(s){if(!!this.contentVisible)for(var i=this.ctx,u=this.current.fillColor,_=this.current.patternFill,T=0,w=s.length;T<w;T++){var q=s[T],H=q.width,V=q.height,$=this.cachedCanvases.getCanvas("maskCanvas",H,V),X=$.context;X.save(),a(X,q),X.globalCompositeOperation="source-in",X.fillStyle=_?u.getPattern(X,this):u,X.fillRect(0,0,H,V),X.restore(),i.save(),i.transform.apply(i,q.transform),i.scale(1,-1),i.drawImage($.canvas,0,0,H,V,0,-1,1,1),i.restore()}},paintImageXObject:function(s){if(!this.contentVisible)return;let i=s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s);if(!i){(0,e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)},paintImageXObjectRepeat:function(s,i,u,_){if(!this.contentVisible)return;let T=s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s);if(!T){(0,e.warn)("Dependent image isn't ready yet");return}for(var w=T.width,q=T.height,H=[],V=0,$=_.length;V<$;V+=2)H.push({transform:[i,0,0,u,_[V],_[V+1]],x:0,y:0,w,h:q});this.paintInlineImageXObjectGroup(T,H)},paintInlineImageXObject:function(s){if(!!this.contentVisible){var i=s.width,u=s.height,_=this.ctx;this.save(),_.scale(1/i,-1/u);var T=_.mozCurrentTransformInverse,w=T[0],q=T[1],H=Math.max(Math.sqrt(w*w+q*q),1),V=T[2],$=T[3],X=Math.max(Math.sqrt(V*V+$*$),1),Y,K;if(typeof HTMLElement=="function"&&s instanceof HTMLElement||!s.data)Y=s;else{K=this.cachedCanvases.getCanvas("inlineImage",i,u);var ee=K.context;r(ee,s,this.current.transferMaps),Y=K.canvas}for(var Z=i,te=u,ie="prescale1";H>2&&Z>1||X>2&&te>1;){var se=Z,ne=te;H>2&&Z>1&&(se=Math.ceil(Z/2),H/=Z/se),X>2&&te>1&&(ne=Math.ceil(te/2),X/=te/ne),K=this.cachedCanvases.getCanvas(ie,se,ne),ee=K.context,ee.clearRect(0,0,se,ne),ee.drawImage(Y,0,0,Z,te,0,0,se,ne),Y=K.canvas,Z=se,te=ne,ie=ie==="prescale1"?"prescale2":"prescale1"}if(_.drawImage(Y,0,0,Z,te,0,-u,i,u),this.imageLayer){var ue=this.getCanvasPosition(0,-u);this.imageLayer.appendImage({imgData:s,left:ue[0],top:ue[1],width:i/T[0],height:u/T[3]})}this.restore()}},paintInlineImageXObjectGroup:function(s,i){if(!!this.contentVisible){var u=this.ctx,_=s.width,T=s.height,w=this.cachedCanvases.getCanvas("inlineImage",_,T),q=w.context;r(q,s,this.current.transferMaps);for(var H=0,V=i.length;H<V;H++){var $=i[H];if(u.save(),u.transform.apply(u,$.transform),u.scale(1,-1),u.drawImage(w.canvas,$.x,$.y,$.w,$.h,0,-1,1,1),this.imageLayer){var X=this.getCanvasPosition($.x,$.y);this.imageLayer.appendImage({imgData:s,left:X[0],top:X[1],width:_,height:T})}u.restore()}}},paintSolidColorImageMask:function(){!this.contentVisible||this.ctx.fillRect(0,0,1,1)},markPoint:function(s){},markPointProps:function(s,i){},beginMarkedContent:function(s){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(s,i){s==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var s=this.ctx;this.pendingClip&&(this.pendingClip===I?s.clip("evenodd"):s.clip(),this.pendingClip=null),s.beginPath()},getSinglePixelWidth(l){if(this._cachedGetSinglePixelWidth===null){let s=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(s[0]*s[0]+s[1]*s[1],s[2]*s[2]+s[3]*s[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(s,i){var u=this.ctx.mozCurrentTransform;return[u[0]*s+u[2]*i+u[4],u[1]*s+u[3]*i+u[5]]},isContentVisible:function(){for(let s=this.markedContentStack.length-1;s>=0;s--)if(!this.markedContentStack[s].visible)return!1;return!0}};for(var n in e.OPS)f.prototype[e.OPS[n]]=f.prototype[n];return f}();t.CanvasGraphics=M},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=E,t.TilingPattern=void 0;var e=y(2),A={};function F(x,d){if(!d||typeof Path2D=="undefined")return;let C=d[2]-d[0],D=d[3]-d[1],c=new Path2D;c.rect(d[0],d[1],C,D),x.clip(c)}A.RadialAxial={fromIR:function(d){var C=d[1],D=d[2],c=d[3],m=d[4],g=d[5],M=d[6],v=d[7];return{type:"Pattern",getPattern:function(R){F(R,D);var f;C==="axial"?f=R.createLinearGradient(m[0],m[1],g[0],g[1]):C==="radial"&&(f=R.createRadialGradient(m[0],m[1],M,g[0],g[1],v));for(var r=0,a=c.length;r<a;++r){var p=c[r];f.addColorStop(p[0],p[1])}return f}}}};var N=function(){function d(c,m,g,M,v,L,R,f){var r=m.coords,a=m.colors,p=c.data,h=c.width*4,o;r[g+1]>r[M+1]&&(o=g,g=M,M=o,o=L,L=R,R=o),r[M+1]>r[v+1]&&(o=M,M=v,v=o,o=R,R=f,f=o),r[g+1]>r[M+1]&&(o=g,g=M,M=o,o=L,L=R,R=o);var S=(r[g]+m.offsetX)*m.scaleX,P=(r[g+1]+m.offsetY)*m.scaleY,G=(r[M]+m.offsetX)*m.scaleX,O=(r[M+1]+m.offsetY)*m.scaleY,k=(r[v]+m.offsetX)*m.scaleX,z=(r[v+1]+m.offsetY)*m.scaleY;if(!(P>=z))for(var W=a[L],I=a[L+1],n=a[L+2],l=a[R],s=a[R+1],i=a[R+2],u=a[f],_=a[f+1],T=a[f+2],w=Math.round(P),q=Math.round(z),H,V,$,X,Y,K,ee,Z,te=w;te<=q;te++){if(te<O){let ae;te<P?ae=0:P===O?ae=1:ae=(P-te)/(P-O),H=S-(S-G)*ae,V=W-(W-l)*ae,$=I-(I-s)*ae,X=n-(n-i)*ae}else{let ae;te>z?ae=1:O===z?ae=0:ae=(O-te)/(O-z),H=G-(G-k)*ae,V=l-(l-u)*ae,$=s-(s-_)*ae,X=i-(i-T)*ae}let ce;te<P?ce=0:te>z?ce=1:ce=(P-te)/(P-z),Y=S-(S-k)*ce,K=W-(W-u)*ce,ee=I-(I-_)*ce,Z=n-(n-T)*ce;for(var ie=Math.round(Math.min(H,Y)),se=Math.round(Math.max(H,Y)),ne=h*te+ie*4,ue=ie;ue<=se;ue++)ce=(H-ue)/(H-Y),ce<0?ce=0:ce>1&&(ce=1),p[ne++]=V-(V-K)*ce|0,p[ne++]=$-($-ee)*ce|0,p[ne++]=X-(X-Z)*ce|0,p[ne++]=255}}function C(c,m,g){var M=m.coords,v=m.colors,L,R;switch(m.type){case"lattice":var f=m.verticesPerRow,r=Math.floor(M.length/f)-1,a=f-1;for(L=0;L<r;L++)for(var p=L*f,h=0;h<a;h++,p++)d(c,g,M[p],M[p+1],M[p+f],v[p],v[p+1],v[p+f]),d(c,g,M[p+f+1],M[p+1],M[p+f],v[p+f+1],v[p+1],v[p+f]);break;case"triangles":for(L=0,R=M.length;L<R;L+=3)d(c,g,M[L],M[L+1],M[L+2],v[L],v[L+1],v[L+2]);break;default:throw new Error("illegal figure")}}function D(c,m,g,M,v,L,R,f){var r=1.1,a=3e3,p=2,h=Math.floor(c[0]),o=Math.floor(c[1]),S=Math.ceil(c[2])-h,P=Math.ceil(c[3])-o,G=Math.min(Math.ceil(Math.abs(S*m[0]*r)),a),O=Math.min(Math.ceil(Math.abs(P*m[1]*r)),a),k=S/G,z=P/O,W={coords:g,colors:M,offsetX:-h,offsetY:-o,scaleX:1/k,scaleY:1/z},I=G+p*2,n=O+p*2,l,s,i,u;if(f.isEnabled)l=f.drawFigures({width:G,height:O,backgroundColor:L,figures:v,context:W}),s=R.getCanvas("mesh",I,n,!1),s.context.drawImage(l,p,p),l=s.canvas;else{s=R.getCanvas("mesh",I,n,!1);var _=s.context,T=_.createImageData(G,O);if(L){var w=T.data;for(i=0,u=w.length;i<u;i+=4)w[i]=L[0],w[i+1]=L[1],w[i+2]=L[2],w[i+3]=255}for(i=0;i<v.length;i++)C(T,v[i],W);_.putImageData(T,p,p),l=s.canvas}return{canvas:l,offsetX:h-p*k,offsetY:o-p*z,scaleX:k,scaleY:z}}return D}();A.Mesh={fromIR:function(d){var C=d[2],D=d[3],c=d[4],m=d[5],g=d[6],M=d[7],v=d[8];return{type:"Pattern",getPattern:function(R,f,r){F(R,M);var a;if(r)a=e.Util.singularValueDecompose2dScale(R.mozCurrentTransform);else if(a=e.Util.singularValueDecompose2dScale(f.baseTransform),g){var p=e.Util.singularValueDecompose2dScale(g);a=[a[0]*p[0],a[1]*p[1]]}var h=N(m,a,C,D,c,r?null:v,f.cachedCanvases,f.webGLContext);return r||(R.setTransform.apply(R,f.baseTransform),g&&R.transform.apply(R,g)),R.translate(h.offsetX,h.offsetY),R.scale(h.scaleX,h.scaleY),R.createPattern(h.canvas,"no-repeat")}}}},A.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};function E(x){var d=A[x[0]];if(!d)throw new Error(`Unknown IR type: ${x[0]}`);return d.fromIR(x)}var b=function(){var d={COLORED:1,UNCOLORED:2},C=3e3;function D(c,m,g,M,v){this.operatorList=c[2],this.matrix=c[3]||[1,0,0,1,0,0],this.bbox=c[4],this.xstep=c[5],this.ystep=c[6],this.paintType=c[7],this.tilingType=c[8],this.color=m,this.canvasGraphicsFactory=M,this.baseTransform=v,this.type="Pattern",this.ctx=g}return D.prototype={createPatternCanvas:function(m){var g=this.operatorList,M=this.bbox,v=this.xstep,L=this.ystep,R=this.paintType,f=this.tilingType,r=this.color,a=this.canvasGraphicsFactory;(0,e.info)("TilingType: "+f);var p=M[0],h=M[1],o=M[2],S=M[3],P=e.Util.singularValueDecompose2dScale(this.matrix),G=e.Util.singularValueDecompose2dScale(this.baseTransform),O=[P[0]*G[0],P[1]*G[1]],k=this.getSizeAndScale(v,this.ctx.canvas.width,O[0]),z=this.getSizeAndScale(L,this.ctx.canvas.height,O[1]),W=m.cachedCanvases.getCanvas("pattern",k.size,z.size,!0),I=W.context,n=a.createCanvasGraphics(I);return n.groupLevel=m.groupLevel,this.setFillAndStrokeStyleToContext(n,R,r),n.transform(k.scale,0,0,z.scale,0,0),n.transform(1,0,0,1,-p,-h),this.clipBbox(n,M,p,h,o,S),n.executeOperatorList(g),this.ctx.transform(1,0,0,1,p,h),this.ctx.scale(1/k.scale,1/z.scale),W.canvas},getSizeAndScale:function(m,g,M){m=Math.abs(m);var v=Math.max(C,g),L=Math.ceil(m*M);return L>=v?L=v:M=L/m,{scale:M,size:L}},clipBbox:function(m,g,M,v,L,R){if(Array.isArray(g)&&g.length===4){var f=L-M,r=R-v;m.ctx.rect(M,v,f,r),m.clip(),m.endPath()}},setFillAndStrokeStyleToContext:function(m,g,M){let v=m.ctx,L=m.current;switch(g){case d.COLORED:var R=this.ctx;v.fillStyle=R.fillStyle,v.strokeStyle=R.strokeStyle,L.fillColor=R.fillStyle,L.strokeColor=R.strokeStyle;break;case d.UNCOLORED:var f=e.Util.makeCssRgb(M[0],M[1],M[2]);v.fillStyle=f,v.strokeStyle=f,L.fillColor=f,L.strokeColor=f;break;default:throw new e.FormatError(`Unsupported paint type: ${g}`)}},getPattern:function(m,g){m=this.ctx,m.setTransform.apply(m,this.baseTransform),m.transform.apply(m,this.matrix);var M=this.createPatternCanvas(g);return m.createPattern(M,"repeat")}},D}();t.TilingPattern=b},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;let e=Object.create(null);t.GlobalWorkerOptions=e,e.workerPort=e.workerPort===void 0?null:e.workerPort,e.workerSrc=e.workerSrc===void 0?"":e.workerSrc},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var e=y(2);let A={UNKNOWN:0,DATA:1,ERROR:2},F={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function N(b){if(typeof b!="object"||b===null)return b;switch(b.name){case"AbortException":return new e.AbortException(b.message);case"MissingPDFException":return new e.MissingPDFException(b.message);case"UnexpectedResponseException":return new e.UnexpectedResponseException(b.message,b.status);case"UnknownErrorException":return new e.UnknownErrorException(b.message,b.details);default:return new e.UnknownErrorException(b.message,b.toString())}}class E{constructor(x,d,C){this.sourceName=x,this.targetName=d,this.comObj=C,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=D=>{let c=D.data;if(c.targetName!==this.sourceName)return;if(c.stream){this._processStreamMessage(c);return}if(c.callback){let g=c.callbackId,M=this.callbackCapabilities[g];if(!M)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],c.callback===A.DATA)M.resolve(c.data);else if(c.callback===A.ERROR)M.reject(N(c.reason));else throw new Error("Unexpected callback case");return}let m=this.actionHandler[c.action];if(!m)throw new Error(`Unknown action from worker: ${c.action}`);if(c.callbackId){let g=this.sourceName,M=c.sourceName;new Promise(function(v){v(m(c.data))}).then(function(v){C.postMessage({sourceName:g,targetName:M,callback:A.DATA,callbackId:c.callbackId,data:v})},function(v){C.postMessage({sourceName:g,targetName:M,callback:A.ERROR,callbackId:c.callbackId,reason:N(v)})});return}if(c.streamId){this._createStreamSink(c);return}m(c.data)},C.addEventListener("message",this._onComObjOnMessage)}on(x,d){let C=this.actionHandler;if(C[x])throw new Error(`There is already an actionName called "${x}"`);C[x]=d}send(x,d,C){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:x,data:d},C)}sendWithPromise(x,d,C){let D=this.callbackId++,c=(0,e.createPromiseCapability)();this.callbackCapabilities[D]=c;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:x,callbackId:D,data:d},C)}catch(m){c.reject(m)}return c.promise}sendWithStream(x,d,C,D){let c=this.streamId++,m=this.sourceName,g=this.targetName,M=this.comObj;return new ReadableStream({start:v=>{let L=(0,e.createPromiseCapability)();return this.streamControllers[c]={controller:v,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:m,targetName:g,action:x,streamId:c,data:d,desiredSize:v.desiredSize},D),L.promise},pull:v=>{let L=(0,e.createPromiseCapability)();return this.streamControllers[c].pullCall=L,M.postMessage({sourceName:m,targetName:g,stream:F.PULL,streamId:c,desiredSize:v.desiredSize}),L.promise},cancel:v=>{(0,e.assert)(v instanceof Error,"cancel must have a valid reason");let L=(0,e.createPromiseCapability)();return this.streamControllers[c].cancelCall=L,this.streamControllers[c].isClosed=!0,M.postMessage({sourceName:m,targetName:g,stream:F.CANCEL,streamId:c,reason:N(v)}),L.promise}},C)}_createStreamSink(x){let d=this,C=this.actionHandler[x.action],D=x.streamId,c=this.sourceName,m=x.sourceName,g=this.comObj,M={enqueue(v,L=1,R){if(this.isCancelled)return;let f=this.desiredSize;this.desiredSize-=L,f>0&&this.desiredSize<=0&&(this.sinkCapability=(0,e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),d._postMessage({sourceName:c,targetName:m,stream:F.ENQUEUE,streamId:D,chunk:v},R)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:c,targetName:m,stream:F.CLOSE,streamId:D}),delete d.streamSinks[D])},error(v){(0,e.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:c,targetName:m,stream:F.ERROR,streamId:D,reason:N(v)}))},sinkCapability:(0,e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:x.desiredSize,ready:null};M.sinkCapability.resolve(),M.ready=M.sinkCapability.promise,this.streamSinks[D]=M,new Promise(function(v){v(C(x.data,M))}).then(function(){g.postMessage({sourceName:c,targetName:m,stream:F.START_COMPLETE,streamId:D,success:!0})},function(v){g.postMessage({sourceName:c,targetName:m,stream:F.START_COMPLETE,streamId:D,reason:N(v)})})}_processStreamMessage(x){let d=x.streamId,C=this.sourceName,D=x.sourceName,c=this.comObj;switch(x.stream){case F.START_COMPLETE:x.success?this.streamControllers[d].startCall.resolve():this.streamControllers[d].startCall.reject(N(x.reason));break;case F.PULL_COMPLETE:x.success?this.streamControllers[d].pullCall.resolve():this.streamControllers[d].pullCall.reject(N(x.reason));break;case F.PULL:if(!this.streamSinks[d]){c.postMessage({sourceName:C,targetName:D,stream:F.PULL_COMPLETE,streamId:d,success:!0});break}this.streamSinks[d].desiredSize<=0&&x.desiredSize>0&&this.streamSinks[d].sinkCapability.resolve(),this.streamSinks[d].desiredSize=x.desiredSize;let{onPull:m}=this.streamSinks[x.streamId];new Promise(function(M){M(m&&m())}).then(function(){c.postMessage({sourceName:C,targetName:D,stream:F.PULL_COMPLETE,streamId:d,success:!0})},function(M){c.postMessage({sourceName:C,targetName:D,stream:F.PULL_COMPLETE,streamId:d,reason:N(M)})});break;case F.ENQUEUE:if((0,e.assert)(this.streamControllers[d],"enqueue should have stream controller"),this.streamControllers[d].isClosed)break;this.streamControllers[d].controller.enqueue(x.chunk);break;case F.CLOSE:if((0,e.assert)(this.streamControllers[d],"close should have stream controller"),this.streamControllers[d].isClosed)break;this.streamControllers[d].isClosed=!0,this.streamControllers[d].controller.close(),this._deleteStreamController(d);break;case F.ERROR:(0,e.assert)(this.streamControllers[d],"error should have stream controller"),this.streamControllers[d].controller.error(N(x.reason)),this._deleteStreamController(d);break;case F.CANCEL_COMPLETE:x.success?this.streamControllers[d].cancelCall.resolve():this.streamControllers[d].cancelCall.reject(N(x.reason)),this._deleteStreamController(d);break;case F.CANCEL:if(!this.streamSinks[d])break;let{onCancel:g}=this.streamSinks[x.streamId];new Promise(function(M){M(g&&g(N(x.reason)))}).then(function(){c.postMessage({sourceName:C,targetName:D,stream:F.CANCEL_COMPLETE,streamId:d,success:!0})},function(M){c.postMessage({sourceName:C,targetName:D,stream:F.CANCEL_COMPLETE,streamId:d,reason:N(M)})}),this.streamSinks[d].sinkCapability.reject(N(x.reason)),this.streamSinks[d].isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(x){await Promise.allSettled([this.streamControllers[x].startCall,this.streamControllers[x].pullCall,this.streamControllers[x].cancelCall].map(function(d){return d&&d.promise})),delete this.streamControllers[x]}_postMessage(x,d){d&&this.postMessageTransfers?this.comObj.postMessage(x,d):this.comObj.postMessage(x)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=E},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var e=y(2),A=y(15);class F{constructor(E){(0,e.assert)(typeof E=="string","Metadata: input is not a string"),E=this._repair(E);let x=new A.SimpleXMLParser().parseFromString(E);this._metadataMap=new Map,x&&this._parse(x)}_repair(E){return E.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(b,x){let d=x.replace(/\\([0-3])([0-7])([0-7])/g,function(D,c,m,g){return String.fromCharCode(c*64+m*8+g*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(D,c){switch(c){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${c} isn't defined.`)}),C="";for(let D=0,c=d.length;D<c;D+=2){let m=d.charCodeAt(D)*256+d.charCodeAt(D+1);m>=32&&m<127&&m!==60&&m!==62&&m!==38?C+=String.fromCharCode(m):C+="&#x"+(65536+m).toString(16).substring(1)+";"}return">"+C})}_parse(E){let b=E.documentElement;if(b.nodeName.toLowerCase()!=="rdf:rdf")for(b=b.firstChild;b&&b.nodeName.toLowerCase()!=="rdf:rdf";)b=b.nextSibling;let x=b?b.nodeName.toLowerCase():null;if(!b||x!=="rdf:rdf"||!b.hasChildNodes())return;let d=b.childNodes;for(let C=0,D=d.length;C<D;C++){let c=d[C];if(c.nodeName.toLowerCase()==="rdf:description"){for(let m=0,g=c.childNodes.length;m<g;m++)if(c.childNodes[m].nodeName.toLowerCase()!=="#text"){let M=c.childNodes[m],v=M.nodeName.toLowerCase();this._metadataMap.set(v,M.textContent.trim())}}}}get(E){return this._metadataMap.has(E)?this._metadataMap.get(E):null}getAll(){return Object.fromEntries(this._metadataMap)}has(E){return this._metadataMap.has(E)}}t.Metadata=F},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;let e={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function A(x,d){let C=x[d];return C===" "||C===`
`||C==="\r"||C==="	"}function F(x){for(let d=0,C=x.length;d<C;d++)if(!A(x,d))return!1;return!0}class N{_resolveEntities(d){return d.replace(/&([^;]+);/g,(C,D)=>{if(D.substring(0,2)==="#x")return String.fromCharCode(parseInt(D.substring(2),16));if(D.substring(0,1)==="#")return String.fromCharCode(parseInt(D.substring(1),10));switch(D){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(D)})}_parseContent(d,C){let D=[],c=C;function m(){for(;c<d.length&&A(d,c);)++c}for(;c<d.length&&!A(d,c)&&d[c]!==">"&&d[c]!=="/";)++c;let g=d.substring(C,c);for(m();c<d.length&&d[c]!==">"&&d[c]!=="/"&&d[c]!=="?";){m();let M="",v="";for(;c<d.length&&!A(d,c)&&d[c]!=="=";)M+=d[c],++c;if(m(),d[c]!=="=")return null;++c,m();let L=d[c];if(L!=='"'&&L!=="'")return null;let R=d.indexOf(L,++c);if(R<0)return null;v=d.substring(c,R),D.push({name:M,value:this._resolveEntities(v)}),c=R+1,m()}return{name:g,attributes:D,parsed:c-C}}_parseProcessingInstruction(d,C){let D=C;function c(){for(;D<d.length&&A(d,D);)++D}for(;D<d.length&&!A(d,D)&&d[D]!==">"&&d[D]!=="/";)++D;let m=d.substring(C,D);c();let g=D;for(;D<d.length&&(d[D]!=="?"||d[D+1]!==">");)++D;let M=d.substring(g,D);return{name:m,value:M,parsed:D-C}}parseXml(d){let C=0;for(;C<d.length;){let D=d[C],c=C;if(D==="<"){++c;let m=d[c],g;switch(m){case"/":if(++c,g=d.indexOf(">",c),g<0){this.onError(e.UnterminatedElement);return}this.onEndElement(d.substring(c,g)),c=g+1;break;case"?":++c;let M=this._parseProcessingInstruction(d,c);if(d.substring(c+M.parsed,c+M.parsed+2)!=="?>"){this.onError(e.UnterminatedXmlDeclaration);return}this.onPi(M.name,M.value),c+=M.parsed+2;break;case"!":if(d.substring(c+1,c+3)==="--"){if(g=d.indexOf("-->",c+3),g<0){this.onError(e.UnterminatedComment);return}this.onComment(d.substring(c+3,g)),c=g+3}else if(d.substring(c+1,c+8)==="[CDATA["){if(g=d.indexOf("]]>",c+8),g<0){this.onError(e.UnterminatedCdat);return}this.onCdata(d.substring(c+8,g)),c=g+3}else if(d.substring(c+1,c+8)==="DOCTYPE"){let R=d.indexOf("[",c+8),f=!1;if(g=d.indexOf(">",c+8),g<0){this.onError(e.UnterminatedDoctypeDeclaration);return}if(R>0&&g>R){if(g=d.indexOf("]>",c+8),g<0){this.onError(e.UnterminatedDoctypeDeclaration);return}f=!0}let r=d.substring(c+8,g+(f?1:0));this.onDoctype(r),c=g+(f?2:1)}else{this.onError(e.MalformedElement);return}break;default:let v=this._parseContent(d,c);if(v===null){this.onError(e.MalformedElement);return}let L=!1;if(d.substring(c+v.parsed,c+v.parsed+2)==="/>")L=!0;else if(d.substring(c+v.parsed,c+v.parsed+1)!==">"){this.onError(e.UnterminatedElement);return}this.onBeginElement(v.name,v.attributes,L),c+=v.parsed+(L?2:1);break}}else{for(;c<d.length&&d[c]!=="<";)c++;let m=d.substring(C,c);this.onText(this._resolveEntities(m))}C=c}}onResolveEntity(d){return`&${d};`}onPi(d,C){}onComment(d){}onCdata(d){}onDoctype(d){}onText(d){}onBeginElement(d,C,D){}onEndElement(d){}onError(d){}}class E{constructor(d,C){this.nodeName=d,this.nodeValue=C,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){let d=this.parentNode.childNodes;if(!d)return;let C=d.indexOf(this);if(C!==-1)return d[C+1]}get textContent(){return this.childNodes?this.childNodes.map(function(d){return d.textContent}).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}class b extends N{constructor(){super();this._currentFragment=null,this._stack=null,this._errorCode=e.NoError}parseFromString(d){if(this._currentFragment=[],this._stack=[],this._errorCode=e.NoError,this.parseXml(d),this._errorCode!==e.NoError)return;let[C]=this._currentFragment;if(!!C)return{documentElement:C}}onResolveEntity(d){switch(d){case"apos":return"'"}return super.onResolveEntity(d)}onText(d){if(F(d))return;let C=new E("#text",d);this._currentFragment.push(C)}onCdata(d){let C=new E("#text",d);this._currentFragment.push(C)}onBeginElement(d,C,D){let c=new E(d);c.childNodes=[],this._currentFragment.push(c),!D&&(this._stack.push(this._currentFragment),this._currentFragment=c.childNodes)}onEndElement(d){this._currentFragment=this._stack.pop()||[];let C=this._currentFragment[this._currentFragment.length-1];if(!!C)for(let D=0,c=C.childNodes.length;D<c;D++)C.childNodes[D].parentNode=C}onError(d){this._errorCode=d}}t.SimpleXMLParser=b},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var e=y(2);class A{constructor(E,b){this.visible=!0,this.name=E,this.intent=b}}class F{constructor(E){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,E!==null){this.name=E.name,this.creator=E.creator,this._order=E.order;for(let b of E.groups)this._groups.set(b.id,new A(b.name,b.intent));if(E.baseState==="OFF")for(let b of this._groups)b.visible=!1;for(let b of E.on)this._groups.get(b).visible=!0;for(let b of E.off)this._groups.get(b).visible=!1}}isVisible(E){if(E.type==="OCG")return this._groups.has(E.id)?this._groups.get(E.id).visible:((0,e.warn)(`Optional content group not found: ${E.id}`),!0);if(E.type==="OCMD"){if(E.expression&&(0,e.warn)("Visibility expression not supported yet."),!E.policy||E.policy==="AnyOn"){for(let b of E.ids){if(!this._groups.has(b))return(0,e.warn)(`Optional content group not found: ${b}`),!0;if(this._groups.get(b).visible)return!0}return!1}else if(E.policy==="AllOn"){for(let b of E.ids){if(!this._groups.has(b))return(0,e.warn)(`Optional content group not found: ${b}`),!0;if(!this._groups.get(b).visible)return!1}return!0}else if(E.policy==="AnyOff"){for(let b of E.ids){if(!this._groups.has(b))return(0,e.warn)(`Optional content group not found: ${b}`),!0;if(!this._groups.get(b).visible)return!0}return!1}else if(E.policy==="AllOff"){for(let b of E.ids){if(!this._groups.has(b))return(0,e.warn)(`Optional content group not found: ${b}`),!0;if(this._groups.get(b).visible)return!1}return!0}return(0,e.warn)(`Unknown optional content policy ${E.policy}.`),!0}return(0,e.warn)(`Unknown group type ${E.type}.`),!0}setVisibility(E,b=!0){if(!this._groups.has(E)){(0,e.warn)(`Optional content group not found: ${E}`);return}this._groups.get(E).visible=!!b}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size?Object.fromEntries(this._groups):null}getGroup(E){return this._groups.get(E)||null}}t.OptionalContentConfig=F},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var e=y(2);class A{constructor(b,x){(0,e.assert)(x,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1;let d=b.initialData;if(d&&d.length>0){let C=new Uint8Array(d).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=x,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((C,D)=>{this._onReceiveData({begin:C,chunk:D})}),this._pdfDataRangeTransport.addProgressListener((C,D)=>{this._onProgress({loaded:C,total:D})}),this._pdfDataRangeTransport.addProgressiveReadListener(C=>{this._onReceiveData({chunk:C})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(b){let x=new Uint8Array(b.chunk).buffer;if(b.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{let d=this._rangeReaders.some(function(C){return C._begin!==b.begin?!1:(C._enqueue(x),!0)});(0,e.assert)(d,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(b){if(b.total===void 0){let x=this._rangeReaders[0];x&&x.onProgress&&x.onProgress({loaded:b.loaded})}else{let x=this._fullRequestReader;x&&x.onProgress&&x.onProgress({loaded:b.loaded,total:b.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){let x=this._rangeReaders.indexOf(b);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let b=this._queuedChunks;return this._queuedChunks=null,new F(this,b,this._progressiveDone)}getRangeReader(b,x){if(x<=this._progressiveDataLength)return null;let d=new N(this,b,x);return this._pdfDataRangeTransport.requestDataRange(b,x),this._rangeReaders.push(d),d}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b),this._rangeReaders.slice(0).forEach(function(d){d.cancel(b)}),this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=A;class F{constructor(b,x,d=!1){this._stream=b,this._done=d||!1,this._filename=null,this._queuedChunks=x||[],this._loaded=0;for(let C of this._queuedChunks)this._loaded+=C.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let b=(0,e.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0,this._requests.forEach(function(x){x.resolve({value:void 0,done:!0})}),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class N{constructor(b,x,d){this._stream=b,this._begin=x,this._end=d,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){this._done||(this._requests.length===0?this._queuedChunk=b:(this._requests.shift().resolve({value:b,done:!1}),this._requests.forEach(function(d){d.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let x=this._queuedChunk;return this._queuedChunk=null,{value:x,done:!1}}if(this._done)return{value:void 0,done:!0};let b=(0,e.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0,this._requests.forEach(function(x){x.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var e=y(2);class A{constructor({enable:E=!1}){this._enabled=E===!0}get isEnabled(){let E=this._enabled;return E&&(E=F.tryInitGL()),(0,e.shadow)(this,"isEnabled",E)}composeSMask({layer:E,mask:b,properties:x}){return F.composeSMask(E,b,x)}drawFigures({width:E,height:b,backgroundColor:x,figures:d,context:C}){return F.drawFigures(E,b,x,d,C)}clear(){F.cleanup()}}t.WebGLContext=A;var F=function(){function E(o,S,P){var G=o.createShader(P);o.shaderSource(G,S),o.compileShader(G);var O=o.getShaderParameter(G,o.COMPILE_STATUS);if(!O){var k=o.getShaderInfoLog(G);throw new Error("Error during shader compilation: "+k)}return G}function b(o,S){return E(o,S,o.VERTEX_SHADER)}function x(o,S){return E(o,S,o.FRAGMENT_SHADER)}function d(o,S){for(var P=o.createProgram(),G=0,O=S.length;G<O;++G)o.attachShader(P,S[G]);o.linkProgram(P);var k=o.getProgramParameter(P,o.LINK_STATUS);if(!k){var z=o.getProgramInfoLog(P);throw new Error("Error during program linking: "+z)}return P}function C(o,S,P){o.activeTexture(P);var G=o.createTexture();return o.bindTexture(o.TEXTURE_2D,G),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,S),G}var D,c;function m(){D||(c=document.createElement("canvas"),D=c.getContext("webgl",{premultipliedalpha:!1}))}var g="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",M="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",v=null;function L(){var o,S;m(),o=c,c=null,S=D,D=null;var P=b(S,g),G=x(S,M),O=d(S,[P,G]);S.useProgram(O);var k={};k.gl=S,k.canvas=o,k.resolutionLocation=S.getUniformLocation(O,"u_resolution"),k.positionLocation=S.getAttribLocation(O,"a_position"),k.backdropLocation=S.getUniformLocation(O,"u_backdrop"),k.subtypeLocation=S.getUniformLocation(O,"u_subtype");var z=S.getAttribLocation(O,"a_texCoord"),W=S.getUniformLocation(O,"u_image"),I=S.getUniformLocation(O,"u_mask"),n=S.createBuffer();S.bindBuffer(S.ARRAY_BUFFER,n),S.bufferData(S.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),S.STATIC_DRAW),S.enableVertexAttribArray(z),S.vertexAttribPointer(z,2,S.FLOAT,!1,0,0),S.uniform1i(W,0),S.uniform1i(I,1),v=k}function R(o,S,P){var G=o.width,O=o.height;v||L();var k=v,z=k.canvas,W=k.gl;z.width=G,z.height=O,W.viewport(0,0,W.drawingBufferWidth,W.drawingBufferHeight),W.uniform2f(k.resolutionLocation,G,O),P.backdrop?W.uniform4f(k.resolutionLocation,P.backdrop[0],P.backdrop[1],P.backdrop[2],1):W.uniform4f(k.resolutionLocation,0,0,0,0),W.uniform1i(k.subtypeLocation,P.subtype==="Luminosity"?1:0);var I=C(W,o,W.TEXTURE0),n=C(W,S,W.TEXTURE1),l=W.createBuffer();return W.bindBuffer(W.ARRAY_BUFFER,l),W.bufferData(W.ARRAY_BUFFER,new Float32Array([0,0,G,0,0,O,0,O,G,0,G,O]),W.STATIC_DRAW),W.enableVertexAttribArray(k.positionLocation),W.vertexAttribPointer(k.positionLocation,2,W.FLOAT,!1,0,0),W.clearColor(0,0,0,0),W.enable(W.BLEND),W.blendFunc(W.ONE,W.ONE_MINUS_SRC_ALPHA),W.clear(W.COLOR_BUFFER_BIT),W.drawArrays(W.TRIANGLES,0,6),W.flush(),W.deleteTexture(I),W.deleteTexture(n),W.deleteBuffer(l),z}var f="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",r="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",a=null;function p(){var o,S;m(),o=c,c=null,S=D,D=null;var P=b(S,f),G=x(S,r),O=d(S,[P,G]);S.useProgram(O);var k={};k.gl=S,k.canvas=o,k.resolutionLocation=S.getUniformLocation(O,"u_resolution"),k.scaleLocation=S.getUniformLocation(O,"u_scale"),k.offsetLocation=S.getUniformLocation(O,"u_offset"),k.positionLocation=S.getAttribLocation(O,"a_position"),k.colorLocation=S.getAttribLocation(O,"a_color"),a=k}function h(o,S,P,G,O){a||p();var k=a,z=k.canvas,W=k.gl;z.width=o,z.height=S,W.viewport(0,0,W.drawingBufferWidth,W.drawingBufferHeight),W.uniform2f(k.resolutionLocation,o,S);var I=0,n,l,s;for(n=0,l=G.length;n<l;n++)switch(G[n].type){case"lattice":s=G[n].coords.length/G[n].verticesPerRow|0,I+=(s-1)*(G[n].verticesPerRow-1)*6;break;case"triangles":I+=G[n].coords.length;break}var i=new Float32Array(I*2),u=new Uint8Array(I*3),_=O.coords,T=O.colors,w=0,q=0;for(n=0,l=G.length;n<l;n++){var H=G[n],V=H.coords,$=H.colors;switch(H.type){case"lattice":var X=H.verticesPerRow;s=V.length/X|0;for(var Y=1;Y<s;Y++)for(var K=Y*X+1,ee=1;ee<X;ee++,K++)i[w]=_[V[K-X-1]],i[w+1]=_[V[K-X-1]+1],i[w+2]=_[V[K-X]],i[w+3]=_[V[K-X]+1],i[w+4]=_[V[K-1]],i[w+5]=_[V[K-1]+1],u[q]=T[$[K-X-1]],u[q+1]=T[$[K-X-1]+1],u[q+2]=T[$[K-X-1]+2],u[q+3]=T[$[K-X]],u[q+4]=T[$[K-X]+1],u[q+5]=T[$[K-X]+2],u[q+6]=T[$[K-1]],u[q+7]=T[$[K-1]+1],u[q+8]=T[$[K-1]+2],i[w+6]=i[w+2],i[w+7]=i[w+3],i[w+8]=i[w+4],i[w+9]=i[w+5],i[w+10]=_[V[K]],i[w+11]=_[V[K]+1],u[q+9]=u[q+3],u[q+10]=u[q+4],u[q+11]=u[q+5],u[q+12]=u[q+6],u[q+13]=u[q+7],u[q+14]=u[q+8],u[q+15]=T[$[K]],u[q+16]=T[$[K]+1],u[q+17]=T[$[K]+2],w+=12,q+=18;break;case"triangles":for(var Z=0,te=V.length;Z<te;Z++)i[w]=_[V[Z]],i[w+1]=_[V[Z]+1],u[q]=T[$[Z]],u[q+1]=T[$[Z]+1],u[q+2]=T[$[Z]+2],w+=2,q+=3;break}}P?W.clearColor(P[0]/255,P[1]/255,P[2]/255,1):W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT);var ie=W.createBuffer();W.bindBuffer(W.ARRAY_BUFFER,ie),W.bufferData(W.ARRAY_BUFFER,i,W.STATIC_DRAW),W.enableVertexAttribArray(k.positionLocation),W.vertexAttribPointer(k.positionLocation,2,W.FLOAT,!1,0,0);var se=W.createBuffer();return W.bindBuffer(W.ARRAY_BUFFER,se),W.bufferData(W.ARRAY_BUFFER,u,W.STATIC_DRAW),W.enableVertexAttribArray(k.colorLocation),W.vertexAttribPointer(k.colorLocation,3,W.UNSIGNED_BYTE,!1,0,0),W.uniform2f(k.scaleLocation,O.scaleX,O.scaleY),W.uniform2f(k.offsetLocation,O.offsetX,O.offsetY),W.drawArrays(W.TRIANGLES,0,I),W.flush(),W.deleteBuffer(ie),W.deleteBuffer(se),z}return{tryInitGL(){try{return m(),!!D}catch(o){}return!1},composeSMask:R,drawFigures:h,cleanup(){v&&v.canvas&&(v.canvas.width=0,v.canvas.height=0),a&&a.canvas&&(a.canvas.width=0,a.canvas.height=0),v=null,a=null}}}()},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var e=y(1),A=y(2),F=y(8);class N{static create(n){switch(n.data.annotationType){case A.AnnotationType.LINK:return new b(n);case A.AnnotationType.TEXT:return new x(n);case A.AnnotationType.WIDGET:switch(n.data.fieldType){case"Tx":return new C(n);case"Btn":return n.data.radioButton?new c(n):n.data.checkBox?new D(n):new m(n);case"Ch":return new g(n)}return new d(n);case A.AnnotationType.POPUP:return new M(n);case A.AnnotationType.FREETEXT:return new L(n);case A.AnnotationType.LINE:return new R(n);case A.AnnotationType.SQUARE:return new f(n);case A.AnnotationType.CIRCLE:return new r(n);case A.AnnotationType.POLYLINE:return new a(n);case A.AnnotationType.CARET:return new h(n);case A.AnnotationType.INK:return new o(n);case A.AnnotationType.POLYGON:return new p(n);case A.AnnotationType.HIGHLIGHT:return new S(n);case A.AnnotationType.UNDERLINE:return new P(n);case A.AnnotationType.SQUIGGLY:return new G(n);case A.AnnotationType.STRIKEOUT:return new O(n);case A.AnnotationType.STAMP:return new k(n);case A.AnnotationType.FILEATTACHMENT:return new z(n);default:return new E(n)}}}class E{constructor(n,l=!1,s=!1){this.isRenderable=l,this.data=n.data,this.layer=n.layer,this.page=n.page,this.viewport=n.viewport,this.linkService=n.linkService,this.downloadManager=n.downloadManager,this.imageResourcesPath=n.imageResourcesPath,this.renderInteractiveForms=n.renderInteractiveForms,this.svgFactory=n.svgFactory,this.annotationStorage=n.annotationStorage,l&&(this.container=this._createContainer(s))}_createContainer(n=!1){let l=this.data,s=this.page,i=this.viewport,u=document.createElement("section"),_=l.rect[2]-l.rect[0],T=l.rect[3]-l.rect[1];u.setAttribute("data-annotation-id",l.id);let w=A.Util.normalizeRect([l.rect[0],s.view[3]-l.rect[1]+s.view[1],l.rect[2],s.view[3]-l.rect[3]+s.view[1]]);if(u.style.transform=`matrix(${i.transform.join(",")})`,u.style.transformOrigin=`-${w[0]}px -${w[1]}px`,!n&&l.borderStyle.width>0){u.style.borderWidth=`${l.borderStyle.width}px`,l.borderStyle.style!==A.AnnotationBorderStyleType.UNDERLINE&&(_=_-2*l.borderStyle.width,T=T-2*l.borderStyle.width);let q=l.borderStyle.horizontalCornerRadius,H=l.borderStyle.verticalCornerRadius;if(q>0||H>0){let V=`${q}px / ${H}px`;u.style.borderRadius=V}switch(l.borderStyle.style){case A.AnnotationBorderStyleType.SOLID:u.style.borderStyle="solid";break;case A.AnnotationBorderStyleType.DASHED:u.style.borderStyle="dashed";break;case A.AnnotationBorderStyleType.BEVELED:(0,A.warn)("Unimplemented border style: beveled");break;case A.AnnotationBorderStyleType.INSET:(0,A.warn)("Unimplemented border style: inset");break;case A.AnnotationBorderStyleType.UNDERLINE:u.style.borderBottomStyle="solid";break;default:break}l.color?u.style.borderColor=A.Util.makeCssRgb(l.color[0]|0,l.color[1]|0,l.color[2]|0):u.style.borderWidth=0}return u.style.left=`${w[0]}px`,u.style.top=`${w[1]}px`,u.style.width=`${_}px`,u.style.height=`${T}px`,u}_createPopup(n,l,s){l||(l=document.createElement("div"),l.style.height=n.style.height,l.style.width=n.style.width,n.appendChild(l));let u=new v({container:n,trigger:l,color:s.color,title:s.title,modificationDate:s.modificationDate,contents:s.contents,hideWrapper:!0}).render();u.style.left=n.style.width,n.appendChild(u)}render(){(0,A.unreachable)("Abstract method `AnnotationElement.render` called")}}class b extends E{constructor(n){let l=!!(n.data.url||n.data.dest||n.data.action);super(n,l)}render(){this.container.className="linkAnnotation";let{data:n,linkService:l}=this,s=document.createElement("a");return n.url?(0,e.addLinkAttributes)(s,{url:n.url,target:n.newWindow?e.LinkTarget.BLANK:l.externalLinkTarget,rel:l.externalLinkRel,enabled:l.externalLinkEnabled}):n.action?this._bindNamedAction(s,n.action):this._bindLink(s,n.dest),this.container.appendChild(s),this.container}_bindLink(n,l){n.href=this.linkService.getDestinationHash(l),n.onclick=()=>(l&&this.linkService.navigateTo(l),!1),l&&(n.className="internalLink")}_bindNamedAction(n,l){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(l),!1),n.className="internalLink"}}class x extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l)}render(){this.container.className="textAnnotation";let n=document.createElement("img");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",n.alt="[{{type}} Annotation]",n.dataset.l10nId="text_annotation_type",n.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,n,this.data),this.container.appendChild(n),this.container}}class d extends E{render(){return this.container}}class C extends d{constructor(n){let l=n.renderInteractiveForms||!n.data.hasAppearance&&!!n.data.fieldValue;super(n,l)}render(){let n=["left","center","right"],l=this.annotationStorage,s=this.data.id;this.container.className="textWidgetAnnotation";let i=null;if(this.renderInteractiveForms){let u=l.getOrCreateValue(s,this.data.fieldValue);if(this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u)),i.addEventListener("input",function(_){l.setValue(s,_.target.value)}),i.disabled=this.data.readOnly,i.name=this.data.fieldName,this.data.maxLen!==null&&(i.maxLength=this.data.maxLen),this.data.comb){let T=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;i.classList.add("comb"),i.style.letterSpacing=`calc(${T}px - 1ch)`}}else{i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell";let u=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(u=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(i,u)}return this.data.textAlignment!==null&&(i.style.textAlign=n[this.data.textAlignment]),this.container.appendChild(i),this.container}_setTextStyle(n,l){let s=n.style;if(s.fontSize=`${this.data.fontSize}px`,s.direction=this.data.fontDirection<0?"rtl":"ltr",!l)return;let i="normal";l.black?i="900":l.bold&&(i="bold"),s.fontWeight=i,s.fontStyle=l.italic?"italic":"normal";let u=l.loadedName?`"${l.loadedName}", `:"",_=l.fallbackName||"Helvetica, sans-serif";s.fontFamily=u+_}}class D extends d{constructor(n){super(n,n.renderInteractiveForms)}render(){let n=this.annotationStorage,l=this.data,s=l.id,i=n.getOrCreateValue(s,l.fieldValue&&l.fieldValue!=="Off");this.container.className="buttonWidgetAnnotation checkBox";let u=document.createElement("input");return u.disabled=l.readOnly,u.type="checkbox",u.name=this.data.fieldName,i&&u.setAttribute("checked",!0),u.addEventListener("change",function(_){n.setValue(s,_.target.checked)}),this.container.appendChild(u),this.container}}class c extends d{constructor(n){super(n,n.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";let n=this.annotationStorage,l=this.data,s=l.id,i=n.getOrCreateValue(s,l.fieldValue===l.buttonValue),u=document.createElement("input");return u.disabled=l.readOnly,u.type="radio",u.name=l.fieldName,i&&u.setAttribute("checked",!0),u.addEventListener("change",function(_){let T=_.target.name;for(let w of document.getElementsByName(T))w!==_.target&&n.setValue(w.parentNode.getAttribute("data-annotation-id"),!1);n.setValue(s,_.target.checked)}),this.container.appendChild(u),this.container}}class m extends b{render(){let n=super.render();return n.className="buttonWidgetAnnotation pushButton",n}}class g extends d{constructor(n){super(n,n.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";let n=this.annotationStorage,l=this.data.id;n.getOrCreateValue(l,this.data.fieldValue.length>0?this.data.fieldValue[0]:null);let s=document.createElement("select");s.disabled=this.data.readOnly,s.name=this.data.fieldName,this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0));for(let i of this.data.options){let u=document.createElement("option");u.textContent=i.displayValue,u.value=i.exportValue,this.data.fieldValue.includes(i.exportValue)&&u.setAttribute("selected",!0),s.appendChild(u)}return s.addEventListener("input",function(i){let u=i.target.options,_=u[u.selectedIndex].value;n.setValue(l,_)}),this.container.appendChild(s),this.container}}class M extends E{constructor(n){let l=!!(n.data.title||n.data.contents);super(n,l)}render(){let n=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",n.includes(this.data.parentType))return this.container;let l=`[data-annotation-id="${this.data.parentId}"]`,s=this.layer.querySelector(l);if(!s)return this.container;let i=new v({container:this.container,trigger:s,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),u=parseFloat(s.style.left),_=parseFloat(s.style.width);return this.container.style.transformOrigin=`-${u+_}px -${s.style.top}`,this.container.style.left=`${u+_}px`,this.container.appendChild(i.render()),this.container}}class v{constructor(n){this.container=n.container,this.trigger=n.trigger,this.color=n.color,this.title=n.title,this.modificationDate=n.modificationDate,this.contents=n.contents,this.hideWrapper=n.hideWrapper||!1,this.pinned=!1}render(){let n=.7,l=document.createElement("div");l.className="popupWrapper",this.hideElement=this.hideWrapper?l:this.container,this.hideElement.setAttribute("hidden",!0);let s=document.createElement("div");s.className="popup";let i=this.color;if(i){let w=n*(255-i[0])+i[0],q=n*(255-i[1])+i[1],H=n*(255-i[2])+i[2];s.style.backgroundColor=A.Util.makeCssRgb(w|0,q|0,H|0)}let u=document.createElement("h1");u.textContent=this.title,s.appendChild(u);let _=e.PDFDateString.toDateObject(this.modificationDate);if(_){let w=document.createElement("span");w.textContent="{{date}}, {{time}}",w.dataset.l10nId="annotation_date_string",w.dataset.l10nArgs=JSON.stringify({date:_.toLocaleDateString(),time:_.toLocaleTimeString()}),s.appendChild(w)}let T=this._formatContents(this.contents);return s.appendChild(T),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),s.addEventListener("click",this._hide.bind(this,!0)),l.appendChild(s),l}_formatContents(n){let l=document.createElement("p"),s=n.split(/(?:\r\n?|\n)/);for(let i=0,u=s.length;i<u;++i){let _=s[i];l.appendChild(document.createTextNode(_)),i<u-1&&l.appendChild(document.createElement("br"))}return l}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(n=!1){n&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(n=!0){n&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class L extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class R extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){this.container.className="lineAnnotation";let n=this.data,l=n.rect[2]-n.rect[0],s=n.rect[3]-n.rect[1],i=this.svgFactory.create(l,s),u=this.svgFactory.createElement("svg:line");return u.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),u.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),u.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),u.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),u.setAttribute("stroke-width",n.borderStyle.width||1),u.setAttribute("stroke","transparent"),i.appendChild(u),this.container.append(i),this._createPopup(this.container,u,n),this.container}}class f extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){this.container.className="squareAnnotation";let n=this.data,l=n.rect[2]-n.rect[0],s=n.rect[3]-n.rect[1],i=this.svgFactory.create(l,s),u=n.borderStyle.width,_=this.svgFactory.createElement("svg:rect");return _.setAttribute("x",u/2),_.setAttribute("y",u/2),_.setAttribute("width",l-u),_.setAttribute("height",s-u),_.setAttribute("stroke-width",u||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","none"),i.appendChild(_),this.container.append(i),this._createPopup(this.container,_,n),this.container}}class r extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){this.container.className="circleAnnotation";let n=this.data,l=n.rect[2]-n.rect[0],s=n.rect[3]-n.rect[1],i=this.svgFactory.create(l,s),u=n.borderStyle.width,_=this.svgFactory.createElement("svg:ellipse");return _.setAttribute("cx",l/2),_.setAttribute("cy",s/2),_.setAttribute("rx",l/2-u/2),_.setAttribute("ry",s/2-u/2),_.setAttribute("stroke-width",u||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","none"),i.appendChild(_),this.container.append(i),this._createPopup(this.container,_,n),this.container}}class a extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let n=this.data,l=n.rect[2]-n.rect[0],s=n.rect[3]-n.rect[1],i=this.svgFactory.create(l,s),u=[];for(let T of n.vertices){let w=T.x-n.rect[0],q=n.rect[3]-T.y;u.push(w+","+q)}u=u.join(" ");let _=this.svgFactory.createElement(this.svgElementName);return _.setAttribute("points",u),_.setAttribute("stroke-width",n.borderStyle.width||1),_.setAttribute("stroke","transparent"),_.setAttribute("fill","none"),i.appendChild(_),this.container.append(i),this._createPopup(this.container,_,n),this.container}}class p extends a{constructor(n){super(n);this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class h extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class o extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let n=this.data,l=n.rect[2]-n.rect[0],s=n.rect[3]-n.rect[1],i=this.svgFactory.create(l,s);for(let u of n.inkLists){let _=[];for(let w of u){let q=w.x-n.rect[0],H=n.rect[3]-w.y;_.push(`${q},${H}`)}_=_.join(" ");let T=this.svgFactory.createElement(this.svgElementName);T.setAttribute("points",_),T.setAttribute("stroke-width",n.borderStyle.width||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","none"),this._createPopup(this.container,T,n),i.appendChild(T)}return this.container.append(i),this.container}}class S extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class P extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class G extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class O extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class k extends E{constructor(n){let l=!!(n.data.hasPopup||n.data.title||n.data.contents);super(n,l,!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class z extends E{constructor(n){super(n,!0);let{filename:l,content:s}=this.data.file;this.filename=(0,e.getFilenameFromUrl)(l),this.content=s,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,A.stringToPDFString)(l),filename:l,content:s})}render(){this.container.className="fileAttachmentAnnotation";let n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,n,this.data),this.container.appendChild(n),this.container}_download(){if(!this.downloadManager){(0,A.warn)("Download cannot be started due to unavailable download manager");return}this.downloadManager.downloadData(this.content,this.filename,"")}}class W{static render(n){let l=[],s=[];for(let i of n.annotations)if(!!i){if(i.annotationType===A.AnnotationType.POPUP){s.push(i);continue}l.push(i)}s.length&&l.push(...s);for(let i of l){let u=N.create({data:i,layer:n.div,page:n.page,viewport:n.viewport,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderInteractiveForms:typeof n.renderInteractiveForms=="boolean"?n.renderInteractiveForms:!0,svgFactory:new e.DOMSVGFactory,annotationStorage:n.annotationStorage||new F.AnnotationStorage});u.isRenderable&&n.div.appendChild(u.render())}}static update(n){for(let l of n.annotations){let s=n.div.querySelector(`[data-annotation-id="${l.id}"]`);s&&(s.style.transform=`matrix(${n.viewport.transform.join(",")})`)}n.div.removeAttribute("hidden")}}t.AnnotationLayer=W},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var e=y(2),A=function(){var N=1e5,E=/\S/;function b(v){return!E.test(v)}function x(v,L,R){var f=document.createElement("span"),r={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(v._textDivs.push(f),b(L.str)){r.isWhitespace=!0,v._textDivProperties.set(f,r);return}var a=e.Util.transform(v._viewport.transform,L.transform),p=Math.atan2(a[1],a[0]),h=R[L.fontName];h.vertical&&(p+=Math.PI/2);var o=Math.sqrt(a[2]*a[2]+a[3]*a[3]),S=o;h.ascent?S=h.ascent*S:h.descent&&(S=(1+h.descent)*S);let P,G;p===0?(P=a[4],G=a[5]-S):(P=a[4]+S*Math.sin(p),G=a[5]-S*Math.cos(p)),f.style.left=`${P}px`,f.style.top=`${G}px`,f.style.fontSize=`${o}px`,f.style.fontFamily=h.fontFamily,f.textContent=L.str,v._fontInspectorEnabled&&(f.dataset.fontName=L.fontName),p!==0&&(r.angle=p*(180/Math.PI));let O=!1;if(L.str.length>1)O=!0;else if(L.transform[0]!==L.transform[3]){let s=Math.abs(L.transform[0]),i=Math.abs(L.transform[3]);s!==i&&Math.max(s,i)/Math.min(s,i)>1.5&&(O=!0)}if(O&&(h.vertical?r.canvasWidth=L.height*v._viewport.scale:r.canvasWidth=L.width*v._viewport.scale),v._textDivProperties.set(f,r),v._textContentStream&&v._layoutText(f),v._enhanceTextSelection){var k=1,z=0;p!==0&&(k=Math.cos(p),z=Math.sin(p));var W=(h.vertical?L.height:L.width)*v._viewport.scale,I=o,n,l;p!==0?(n=[k,z,-z,k,P,G],l=e.Util.getAxialAlignedBoundingBox([0,0,W,I],n)):l=[P,G,P+W,G+I],v._bounds.push({left:l[0],top:l[1],right:l[2],bottom:l[3],div:f,size:[W,I],m:n})}}function d(v){if(!v._canceled){var L=v._textDivs,R=v._capability,f=L.length;if(f>N){v._renderingDone=!0,R.resolve();return}if(!v._textContentStream)for(var r=0;r<f;r++)v._layoutText(L[r]);v._renderingDone=!0,R.resolve()}}function C(v,L,R){let f=0;for(let r=0;r<R;r++){let a=v[L++];a>0&&(f=f?Math.min(a,f):a)}return f}function D(v){for(var L=v._bounds,R=v._viewport,f=c(R.width,R.height,L),r=0;r<f.length;r++){var a=L[r].div,p=v._textDivProperties.get(a);if(p.angle===0){p.paddingLeft=L[r].left-f[r].left,p.paddingTop=L[r].top-f[r].top,p.paddingRight=f[r].right-L[r].right,p.paddingBottom=f[r].bottom-L[r].bottom,v._textDivProperties.set(a,p);continue}var h=f[r],o=L[r],S=o.m,P=S[0],G=S[1],O=[[0,0],[0,o.size[1]],[o.size[0],0],o.size],k=new Float64Array(64);O.forEach(function(W,I){var n=e.Util.applyTransform(W,S);k[I+0]=P&&(h.left-n[0])/P,k[I+4]=G&&(h.top-n[1])/G,k[I+8]=P&&(h.right-n[0])/P,k[I+12]=G&&(h.bottom-n[1])/G,k[I+16]=G&&(h.left-n[0])/-G,k[I+20]=P&&(h.top-n[1])/P,k[I+24]=G&&(h.right-n[0])/-G,k[I+28]=P&&(h.bottom-n[1])/P,k[I+32]=P&&(h.left-n[0])/-P,k[I+36]=G&&(h.top-n[1])/-G,k[I+40]=P&&(h.right-n[0])/-P,k[I+44]=G&&(h.bottom-n[1])/-G,k[I+48]=G&&(h.left-n[0])/G,k[I+52]=P&&(h.top-n[1])/-P,k[I+56]=G&&(h.right-n[0])/G,k[I+60]=P&&(h.bottom-n[1])/-P});var z=1+Math.min(Math.abs(P),Math.abs(G));p.paddingLeft=C(k,32,16)/z,p.paddingTop=C(k,48,16)/z,p.paddingRight=C(k,0,16)/z,p.paddingBottom=C(k,16,16)/z,v._textDivProperties.set(a,p)}}function c(v,L,R){var f=R.map(function(a,p){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:p,x1New:void 0,x2New:void 0}});m(v,f);var r=new Array(R.length);return f.forEach(function(a){var p=a.index;r[p]={left:a.x1New,top:0,right:a.x2New,bottom:0}}),R.map(function(a,p){var h=r[p],o=f[p];o.x1=a.top,o.y1=v-h.right,o.x2=a.bottom,o.y2=v-h.left,o.index=p,o.x1New=void 0,o.x2New=void 0}),m(L,f),f.forEach(function(a){var p=a.index;r[p].top=a.x1New,r[p].bottom=a.x2New}),r}function m(v,L){L.sort(function(r,a){return r.x1-a.x1||r.index-a.index});var R={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},f=[{start:-1/0,end:1/0,boundary:R}];L.forEach(function(r){for(var a=0;a<f.length&&f[a].end<=r.y1;)a++;for(var p=f.length-1;p>=0&&f[p].start>=r.y2;)p--;var h,o,S,P,G=-1/0;for(S=a;S<=p;S++){h=f[S],o=h.boundary;var O;o.x2>r.x1?O=o.index>r.index?o.x1New:r.x1:o.x2New===void 0?O=(o.x2+r.x1)/2:O=o.x2New,O>G&&(G=O)}for(r.x1New=G,S=a;S<=p;S++)h=f[S],o=h.boundary,o.x2New===void 0?o.x2>r.x1?o.index>r.index&&(o.x2New=o.x2):o.x2New=G:o.x2New>G&&(o.x2New=Math.max(G,o.x2));var k=[],z=null;for(S=a;S<=p;S++){h=f[S],o=h.boundary;var W=o.x2>r.x2?o:r;z===W?k[k.length-1].end=h.end:(k.push({start:h.start,end:h.end,boundary:W}),z=W)}for(f[a].start<r.y1&&(k[0].start=r.y1,k.unshift({start:f[a].start,end:r.y1,boundary:f[a].boundary})),r.y2<f[p].end&&(k[k.length-1].end=r.y2,k.push({start:r.y2,end:f[p].end,boundary:f[p].boundary})),S=a;S<=p;S++)if(h=f[S],o=h.boundary,o.x2New===void 0){var I=!1;for(P=a-1;!I&&P>=0&&f[P].start>=o.y1;P--)I=f[P].boundary===o;for(P=p+1;!I&&P<f.length&&f[P].end<=o.y2;P++)I=f[P].boundary===o;for(P=0;!I&&P<k.length;P++)I=k[P].boundary===o;I||(o.x2New=G)}Array.prototype.splice.apply(f,[a,p-a+1].concat(k))}),f.forEach(function(r){var a=r.boundary;a.x2New===void 0&&(a.x2New=Math.max(v,a.x2))})}function g({textContent:v,textContentStream:L,container:R,viewport:f,textDivs:r,textContentItemsStr:a,enhanceTextSelection:p}){this._textContent=v,this._textContentStream=L,this._container=R,this._document=R.ownerDocument,this._viewport=f,this._textDivs=r||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!p,this._fontInspectorEnabled=!!(globalThis.FontInspector&&globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}g.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new e.AbortException("TextLayer task cancelled.")),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(v,L){for(let R=0,f=v.length;R<f;R++)this._textContentItemsStr.push(v[R].str),x(this,v[R],L)},_layoutText(v){let L=this._textDivProperties.get(v);if(L.isWhitespace)return;let R="";if(L.canvasWidth!==0){let{fontSize:f,fontFamily:r}=v.style;(f!==this._layoutTextLastFontSize||r!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${f} ${r}`,this._layoutTextLastFontSize=f,this._layoutTextLastFontFamily=r);let{width:a}=this._layoutTextCtx.measureText(v.textContent);a>0&&(L.scale=L.canvasWidth/a,R=`scaleX(${L.scale})`)}L.angle!==0&&(R=`rotate(${L.angle}deg) ${R}`),R.length>0&&(this._enhanceTextSelection&&(L.originalTransform=R),v.style.transform=R),this._textDivProperties.set(v,L),this._container.appendChild(v)},_render:function(L){let R=(0,e.createPromiseCapability)(),f=Object.create(null),r=this._document.createElement("canvas");if(r.mozOpaque=!0,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent){let a=this._textContent.items,p=this._textContent.styles;this._processItems(a,p),R.resolve()}else if(this._textContentStream){let a=()=>{this._reader.read().then(({value:p,done:h})=>{if(h){R.resolve();return}Object.assign(f,p.styles),this._processItems(p.items,f),a()},R.reject)};this._reader=this._textContentStream.getReader(),a()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');R.promise.then(()=>{f=null,L?this._renderTimer=setTimeout(()=>{d(this),this._renderTimer=null},L):d(this)},this._capability.reject)},expandTextDivs:function(L){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(D(this),this._bounds=null);let R=[],f=[];for(var r=0,a=this._textDivs.length;r<a;r++){let p=this._textDivs[r],h=this._textDivProperties.get(p);h.isWhitespace||(L?(R.length=0,f.length=0,h.originalTransform&&R.push(h.originalTransform),h.paddingTop>0?(f.push(`${h.paddingTop}px`),R.push(`translateY(${-h.paddingTop}px)`)):f.push(0),h.paddingRight>0?f.push(`${h.paddingRight/h.scale}px`):f.push(0),h.paddingBottom>0?f.push(`${h.paddingBottom}px`):f.push(0),h.paddingLeft>0?(f.push(`${h.paddingLeft/h.scale}px`),R.push(`translateX(${-h.paddingLeft/h.scale}px)`)):f.push(0),p.style.padding=f.join(" "),R.length&&(p.style.transform=R.join(" "))):(p.style.padding=null,p.style.transform=h.originalTransform))}}};function M(v){var L=new g({textContent:v.textContent,textContentStream:v.textContentStream,container:v.container,viewport:v.viewport,textDivs:v.textDivs,textContentItemsStr:v.textContentItemsStr,enhanceTextSelection:v.enhanceTextSelection});return L._render(v.timeout),L}return M}();t.renderTextLayer=A},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var e=y(2),A=y(1),F=y(4);let N=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=N;{let m=function(f){let r=[],a=[];for(let p of f){if(p.fn==="save"){r.push({fnId:92,fn:"group",items:[]}),a.push(r),r=r[r.length-1].items;continue}p.fn==="restore"?r=a.pop():r.push(p)}return r},g=function(f){if(Number.isInteger(f))return f.toString();let r=f.toFixed(10),a=r.length-1;if(r[a]!=="0")return r;do a--;while(r[a]==="0");return r.substring(0,r[a]==="."?a:a+1)},M=function(f){if(f[4]===0&&f[5]===0){if(f[1]===0&&f[2]===0)return f[0]===1&&f[3]===1?"":`scale(${g(f[0])} ${g(f[3])})`;if(f[0]===f[3]&&f[1]===-f[2]){let r=Math.acos(f[0])*180/Math.PI;return`rotate(${g(r)})`}}else if(f[0]===1&&f[1]===0&&f[2]===0&&f[3]===1)return`translate(${g(f[4])} ${g(f[5])})`;return`matrix(${g(f[0])} ${g(f[1])} ${g(f[2])} ${g(f[3])} ${g(f[4])} ${g(f[5])})`},E={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},b="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/1999/xlink",d=["butt","round","square"],C=["miter","round","bevel"],D=function(){let f=new Uint8Array([137,80,78,71,13,10,26,10]),r=12,a=new Int32Array(256);for(let O=0;O<256;O++){let k=O;for(let z=0;z<8;z++)k&1?k=3988292384^k>>1&2147483647:k=k>>1&2147483647;a[O]=k}function p(O,k,z){let W=-1;for(let I=k;I<z;I++){let n=(W^O[I])&255,l=a[n];W=W>>>8^l}return W^-1}function h(O,k,z,W){let I=W,n=k.length;z[I]=n>>24&255,z[I+1]=n>>16&255,z[I+2]=n>>8&255,z[I+3]=n&255,I+=4,z[I]=O.charCodeAt(0)&255,z[I+1]=O.charCodeAt(1)&255,z[I+2]=O.charCodeAt(2)&255,z[I+3]=O.charCodeAt(3)&255,I+=4,z.set(k,I),I+=k.length;let l=p(z,W+4,I);z[I]=l>>24&255,z[I+1]=l>>16&255,z[I+2]=l>>8&255,z[I+3]=l&255}function o(O,k,z){let W=1,I=0;for(let n=k;n<z;++n)W=(W+(O[n]&255))%65521,I=(I+W)%65521;return I<<16|W}function S(O){if(!F.isNodeJS)return P(O);try{let k;parseInt(process.versions.node)>=8?k=O:k=Buffer.from(O);let z=ke().deflateSync(k,{level:9});return z instanceof Uint8Array?z:new Uint8Array(z)}catch(k){(0,e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+k)}return P(O)}function P(O){let k=O.length,z=65535,W=Math.ceil(k/z),I=new Uint8Array(2+k+W*5+4),n=0;I[n++]=120,I[n++]=156;let l=0;for(;k>z;)I[n++]=0,I[n++]=255,I[n++]=255,I[n++]=0,I[n++]=0,I.set(O.subarray(l,l+z),n),n+=z,l+=z,k-=z;I[n++]=1,I[n++]=k&255,I[n++]=k>>8&255,I[n++]=~k&65535&255,I[n++]=(~k&65535)>>8&255,I.set(O.subarray(l),n),n+=O.length-l;let s=o(O,0,O.length);return I[n++]=s>>24&255,I[n++]=s>>16&255,I[n++]=s>>8&255,I[n++]=s&255,I}function G(O,k,z,W){let I=O.width,n=O.height,l,s,i,u=O.data;switch(k){case e.ImageKind.GRAYSCALE_1BPP:s=0,l=1,i=I+7>>3;break;case e.ImageKind.RGB_24BPP:s=2,l=8,i=I*3;break;case e.ImageKind.RGBA_32BPP:s=6,l=8,i=I*4;break;default:throw new Error("invalid format")}let _=new Uint8Array((1+i)*n),T=0,w=0;for(let Y=0;Y<n;++Y)_[T++]=0,_.set(u.subarray(w,w+i),T),w+=i,T+=i;if(k===e.ImageKind.GRAYSCALE_1BPP&&W){T=0;for(let Y=0;Y<n;Y++){T++;for(let K=0;K<i;K++)_[T++]^=255}}let q=new Uint8Array([I>>24&255,I>>16&255,I>>8&255,I&255,n>>24&255,n>>16&255,n>>8&255,n&255,l,s,0,0,0]),H=S(_),V=f.length+r*3+q.length+H.length,$=new Uint8Array(V),X=0;return $.set(f,X),X+=f.length,h("IHDR",q,$,X),X+=r+q.length,h("IDATA",H,$,X),X+=r+H.length,h("IEND",new Uint8Array(0),$,X),(0,e.createObjectURL)($,"image/png",z)}return function(k,z,W){let I=k.kind===void 0?e.ImageKind.GRAYSCALE_1BPP:k.kind;return G(k,I,z,W)}}();class c{constructor(){this.fontSizeScale=1,this.fontWeight=E.fontWeight,this.fontSize=0,this.textMatrix=e.IDENTITY_MATRIX,this.fontMatrix=e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=E.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,a){this.x=r,this.y=a}}let v=0,L=0,R=0;t.SVGGraphics=N=class{constructor(r,a,p=!1){this.svgFactory=new A.DOMSVGFactory,this.current=new c,this.transformMatrix=e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=r,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(let h in e.OPS)this._operatorIdMapping[e.OPS[h]]=h}save(){this.transformStack.push(this.transformMatrix);let r=this.current;this.extraStack.push(r),this.current=r.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(r){this.save(),this.executeOpTree(r),this.restore()}loadDependencies(r){let a=r.fnArray,p=r.argsArray;for(let h=0,o=a.length;h<o;h++)if(a[h]===e.OPS.dependency)for(let S of p[h]){let P=S.startsWith("g_")?this.commonObjs:this.objs,G=new Promise(O=>{P.get(S,O)});this.current.dependencies.push(G)}return Promise.all(this.current.dependencies)}transform(r,a,p,h,o,S){let P=[r,a,p,h,o,S];this.transformMatrix=e.Util.transform(this.transformMatrix,P),this.tgrp=null}getSVG(r,a){this.viewport=a;let p=this._initialize(a);return this.loadDependencies(r).then(()=>(this.transformMatrix=e.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(r)),p))}convertOpList(r){let a=this._operatorIdMapping,p=r.argsArray,h=r.fnArray,o=[];for(let S=0,P=h.length;S<P;S++){let G=h[S];o.push({fnId:G,fn:a[G],args:p[S]})}return m(o)}executeOpTree(r){for(let a of r){let p=a.fn,h=a.fnId,o=a.args;switch(h|0){case e.OPS.beginText:this.beginText();break;case e.OPS.dependency:break;case e.OPS.setLeading:this.setLeading(o);break;case e.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case e.OPS.setFont:this.setFont(o);break;case e.OPS.showText:this.showText(o[0]);break;case e.OPS.showSpacedText:this.showText(o[0]);break;case e.OPS.endText:this.endText();break;case e.OPS.moveText:this.moveText(o[0],o[1]);break;case e.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case e.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case e.OPS.setHScale:this.setHScale(o[0]);break;case e.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case e.OPS.setTextRise:this.setTextRise(o[0]);break;case e.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case e.OPS.setLineWidth:this.setLineWidth(o[0]);break;case e.OPS.setLineJoin:this.setLineJoin(o[0]);break;case e.OPS.setLineCap:this.setLineCap(o[0]);break;case e.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case e.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case e.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case e.OPS.setFillColorN:this.setFillColorN(o);break;case e.OPS.shadingFill:this.shadingFill(o[0]);break;case e.OPS.setDash:this.setDash(o[0],o[1]);break;case e.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case e.OPS.setFlatness:this.setFlatness(o[0]);break;case e.OPS.setGState:this.setGState(o[0]);break;case e.OPS.fill:this.fill();break;case e.OPS.eoFill:this.eoFill();break;case e.OPS.stroke:this.stroke();break;case e.OPS.fillStroke:this.fillStroke();break;case e.OPS.eoFillStroke:this.eoFillStroke();break;case e.OPS.clip:this.clip("nonzero");break;case e.OPS.eoClip:this.clip("evenodd");break;case e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case e.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case e.OPS.closePath:this.closePath();break;case e.OPS.closeStroke:this.closeStroke();break;case e.OPS.closeFillStroke:this.closeFillStroke();break;case e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case e.OPS.nextLine:this.nextLine();break;case e.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case e.OPS.constructPath:this.constructPath(o[0],o[1]);break;case e.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,e.warn)(`Unimplemented operator ${p}`);break}}}setWordSpacing(r){this.current.wordSpacing=r}setCharSpacing(r){this.current.charSpacing=r}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(r,a,p,h,o,S){let P=this.current;P.textMatrix=P.lineMatrix=[r,a,p,h,o,S],P.textMatrixScale=Math.sqrt(r*r+a*a),P.x=P.lineX=0,P.y=P.lineY=0,P.xcoords=[],P.ycoords=[],P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${g(P.fontSize)}px`),P.tspan.setAttributeNS(null,"y",g(-P.y)),P.txtElement=this.svgFactory.createElement("svg:text"),P.txtElement.appendChild(P.tspan)}beginText(){let r=this.current;r.x=r.lineX=0,r.y=r.lineY=0,r.textMatrix=e.IDENTITY_MATRIX,r.lineMatrix=e.IDENTITY_MATRIX,r.textMatrixScale=1,r.tspan=this.svgFactory.createElement("svg:tspan"),r.txtElement=this.svgFactory.createElement("svg:text"),r.txtgrp=this.svgFactory.createElement("svg:g"),r.xcoords=[],r.ycoords=[]}moveText(r,a){let p=this.current;p.x=p.lineX+=r,p.y=p.lineY+=a,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${g(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",g(-p.y))}showText(r){let a=this.current,p=a.font,h=a.fontSize;if(h===0)return;let o=a.fontSizeScale,S=a.charSpacing,P=a.wordSpacing,G=a.fontDirection,O=a.textHScale*G,k=p.vertical,z=k?1:-1,W=p.defaultVMetrics,I=h*a.fontMatrix[0],n=0;for(let i of r){if(i===null){n+=G*P;continue}else if((0,e.isNum)(i)){n+=z*i*h/1e3;continue}let u=(i.isSpace?P:0)+S,_=i.fontChar,T,w,q=i.width;if(k){let V,$=i.vmetric||W;V=i.vmetric?$[1]:q*.5,V=-V*I;let X=$[2]*I;q=$?-$[0]:q,T=V/o,w=(n+X)/o}else T=n/o,w=0;(i.isInFont||p.missingFile)&&(a.xcoords.push(a.x+T),k&&a.ycoords.push(-a.y+w),a.tspan.textContent+=_);let H;k?H=q*I-u*G:H=q*I+u*G,n+=H}a.tspan.setAttributeNS(null,"x",a.xcoords.map(g).join(" ")),k?a.tspan.setAttributeNS(null,"y",a.ycoords.map(g).join(" ")):a.tspan.setAttributeNS(null,"y",g(-a.y)),k?a.y-=n:a.x+=n*O,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${g(a.fontSize)}px`),a.fontStyle!==E.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==E.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);let l=a.textRenderingMode&e.TextRenderingMode.FILL_STROKE_MASK;if(l===e.TextRenderingMode.FILL||l===e.TextRenderingMode.FILL_STROKE?(a.fillColor!==E.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===e.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),l===e.TextRenderingMode.STROKE||l===e.TextRenderingMode.FILL_STROKE){let i=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,i)}let s=a.textMatrix;a.textRise!==0&&(s=s.slice(),s[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${M(s)} scale(${g(O)}, -1)`),a.txtElement.setAttributeNS(b,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}setLeadingMoveText(r,a){this.setLeading(-a),this.moveText(r,a)}addFontStyle(r){if(!r.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));let a=(0,e.createObjectURL)(r.data,r.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${r.loadedName}"; src: url(${a}); }
`}setFont(r){let a=this.current,p=this.commonObjs.get(r[0]),h=r[1];a.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),a.fontMatrix=p.fontMatrix?p.fontMatrix:e.FONT_IDENTITY_MATRIX;let o="normal";p.black?o="900":p.bold&&(o="bold");let S=p.italic?"italic":"normal";h<0?(h=-h,a.fontDirection=-1):a.fontDirection=1,a.fontSize=h,a.fontFamily=p.loadedName,a.fontWeight=o,a.fontStyle=S,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",g(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){let r=this.current;r.textRenderingMode&e.TextRenderingMode.ADD_TO_PATH_FLAG&&r.txtElement&&r.txtElement.hasChildNodes()&&(r.element=r.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(r){r>0&&(this.current.lineWidth=r)}setLineCap(r){this.current.lineCap=d[r]}setLineJoin(r){this.current.lineJoin=C[r]}setMiterLimit(r){this.current.miterLimit=r}setStrokeAlpha(r){this.current.strokeAlpha=r}setStrokeRGBColor(r,a,p){this.current.strokeColor=e.Util.makeCssRgb(r,a,p)}setFillAlpha(r){this.current.fillAlpha=r}setFillRGBColor(r,a,p){this.current.fillColor=e.Util.makeCssRgb(r,a,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(r){this.current.strokeColor=this._makeColorN_Pattern(r)}setFillColorN(r){this.current.fillColor=this._makeColorN_Pattern(r)}shadingFill(r){let a=this.viewport.width,p=this.viewport.height,h=e.Util.inverseTransform(this.transformMatrix),o=e.Util.applyTransform([0,0],h),S=e.Util.applyTransform([0,p],h),P=e.Util.applyTransform([a,0],h),G=e.Util.applyTransform([a,p],h),O=Math.min(o[0],S[0],P[0],G[0]),k=Math.min(o[1],S[1],P[1],G[1]),z=Math.max(o[0],S[0],P[0],G[0]),W=Math.max(o[1],S[1],P[1],G[1]),I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",O),I.setAttributeNS(null,"y",k),I.setAttributeNS(null,"width",z-O),I.setAttributeNS(null,"height",W-k),I.setAttributeNS(null,"fill",this._makeShadingPattern(r)),this.current.fillAlpha<1&&I.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(I)}_makeColorN_Pattern(r){return r[0]==="TilingPattern"?this._makeTilingPattern(r):this._makeShadingPattern(r)}_makeTilingPattern(r){let a=r[1],p=r[2],h=r[3]||e.IDENTITY_MATRIX,[o,S,P,G]=r[4],O=r[5],k=r[6],z=r[7],W=`shading${R++}`,[I,n]=e.Util.applyTransform([o,S],h),[l,s]=e.Util.applyTransform([P,G],h),[i,u]=e.Util.singularValueDecompose2dScale(h),_=O*i,T=k*u,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",W),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",_),w.setAttributeNS(null,"height",T),w.setAttributeNS(null,"x",`${I}`),w.setAttributeNS(null,"y",`${n}`);let q=this.svg,H=this.transformMatrix,V=this.current.fillColor,$=this.current.strokeColor,X=this.svgFactory.create(l-I,s-n);if(this.svg=X,this.transformMatrix=h,z===2){let Y=e.Util.makeCssRgb(...a);this.current.fillColor=Y,this.current.strokeColor=Y}return this.executeOpTree(this.convertOpList(p)),this.svg=q,this.transformMatrix=H,this.current.fillColor=V,this.current.strokeColor=$,w.appendChild(X.childNodes[0]),this.defs.appendChild(w),`url(#${W})`}_makeShadingPattern(r){switch(r[0]){case"RadialAxial":let a=`shading${R++}`,p=r[3],h;switch(r[1]){case"axial":let o=r[4],S=r[5];h=this.svgFactory.createElement("svg:linearGradient"),h.setAttributeNS(null,"id",a),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.setAttributeNS(null,"x1",o[0]),h.setAttributeNS(null,"y1",o[1]),h.setAttributeNS(null,"x2",S[0]),h.setAttributeNS(null,"y2",S[1]);break;case"radial":let P=r[4],G=r[5],O=r[6],k=r[7];h=this.svgFactory.createElement("svg:radialGradient"),h.setAttributeNS(null,"id",a),h.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),h.setAttributeNS(null,"cx",G[0]),h.setAttributeNS(null,"cy",G[1]),h.setAttributeNS(null,"r",k),h.setAttributeNS(null,"fx",P[0]),h.setAttributeNS(null,"fy",P[1]),h.setAttributeNS(null,"fr",O);break;default:throw new Error(`Unknown RadialAxial type: ${r[1]}`)}for(let o of p){let S=this.svgFactory.createElement("svg:stop");S.setAttributeNS(null,"offset",o[0]),S.setAttributeNS(null,"stop-color",o[1]),h.appendChild(S)}return this.defs.appendChild(h),`url(#${a})`;case"Mesh":return(0,e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${r[0]}`)}}setDash(r,a){this.current.dashArray=r,this.current.dashPhase=a}constructPath(r,a){let p=this.current,h=p.x,o=p.y,S=[],P=0;for(let G of r)switch(G|0){case e.OPS.rectangle:h=a[P++],o=a[P++];let O=a[P++],k=a[P++],z=h+O,W=o+k;S.push("M",g(h),g(o),"L",g(z),g(o),"L",g(z),g(W),"L",g(h),g(W),"Z");break;case e.OPS.moveTo:h=a[P++],o=a[P++],S.push("M",g(h),g(o));break;case e.OPS.lineTo:h=a[P++],o=a[P++],S.push("L",g(h),g(o));break;case e.OPS.curveTo:h=a[P+4],o=a[P+5],S.push("C",g(a[P]),g(a[P+1]),g(a[P+2]),g(a[P+3]),g(h),g(o)),P+=6;break;case e.OPS.curveTo2:S.push("C",g(h),g(o),g(a[P]),g(a[P+1]),g(a[P+2]),g(a[P+3])),h=a[P+2],o=a[P+3],P+=4;break;case e.OPS.curveTo3:h=a[P+2],o=a[P+3],S.push("C",g(a[P]),g(a[P+1]),g(h),g(o),g(h),g(o)),P+=4;break;case e.OPS.closePath:S.push("Z");break}S=S.join(" "),p.path&&r.length>0&&r[0]!==e.OPS.rectangle&&r[0]!==e.OPS.moveTo?S=p.path.getAttributeNS(null,"d")+S:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(p.path)),p.path.setAttributeNS(null,"d",S),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(h,o)}endPath(){let r=this.current;if(r.path=null,!this.pendingClip)return;if(!r.element){this.pendingClip=null;return}let a=`clippath${v++}`,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",a),p.setAttributeNS(null,"transform",M(this.transformMatrix));let h=r.element.cloneNode(!0);this.pendingClip==="evenodd"?h.setAttributeNS(null,"clip-rule","evenodd"):h.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,p.appendChild(h),this.defs.appendChild(p),r.activeClipUrl&&(r.clipGroup=null,this.extraStack.forEach(function(o){o.clipGroup=null}),p.setAttributeNS(null,"clip-path",r.activeClipUrl)),r.activeClipUrl=`url(#${a})`,this.tgrp=null}clip(r){this.pendingClip=r}closePath(){let r=this.current;if(r.path){let a=`${r.path.getAttributeNS(null,"d")}Z`;r.path.setAttributeNS(null,"d",a)}}setLeading(r){this.current.leading=-r}setTextRise(r){this.current.textRise=r}setTextRenderingMode(r){this.current.textRenderingMode=r}setHScale(r){this.current.textHScale=r/100}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(let[a,p]of r)switch(a){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,e.warn)(`Unimplemented graphic state operator ${a}`);break}}fill(){let r=this.current;r.element&&(r.element.setAttributeNS(null,"fill",r.fillColor),r.element.setAttributeNS(null,"fill-opacity",r.fillAlpha),this.endPath())}stroke(){let r=this.current;r.element&&(this._setStrokeAttributes(r.element),r.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(r,a=1){let p=this.current,h=p.dashArray;a!==1&&h.length>0&&(h=h.map(function(o){return a*o})),r.setAttributeNS(null,"stroke",p.strokeColor),r.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),r.setAttributeNS(null,"stroke-miterlimit",g(p.miterLimit)),r.setAttributeNS(null,"stroke-linecap",p.lineCap),r.setAttributeNS(null,"stroke-linejoin",p.lineJoin),r.setAttributeNS(null,"stroke-width",g(a*p.lineWidth)+"px"),r.setAttributeNS(null,"stroke-dasharray",h.map(g).join(" ")),r.setAttributeNS(null,"stroke-dashoffset",g(a*p.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width","1px"),r.setAttributeNS(null,"height","1px"),r.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(r)}paintImageXObject(r){let a=r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r);if(!a){(0,e.warn)(`Dependent image with object ID ${r} is not ready yet`);return}this.paintInlineImageXObject(a)}paintInlineImageXObject(r,a){let p=r.width,h=r.height,o=D(r,this.forceDataSchema,!!a),S=this.svgFactory.createElement("svg:rect");S.setAttributeNS(null,"x","0"),S.setAttributeNS(null,"y","0"),S.setAttributeNS(null,"width",g(p)),S.setAttributeNS(null,"height",g(h)),this.current.element=S,this.clip("nonzero");let P=this.svgFactory.createElement("svg:image");P.setAttributeNS(x,"xlink:href",o),P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y",g(-h)),P.setAttributeNS(null,"width",g(p)+"px"),P.setAttributeNS(null,"height",g(h)+"px"),P.setAttributeNS(null,"transform",`scale(${g(1/p)} ${g(-1/h)})`),a?a.appendChild(P):this._ensureTransformGroup().appendChild(P)}paintImageMaskXObject(r){let a=this.current,p=r.width,h=r.height,o=a.fillColor;a.maskId=`mask${L++}`;let S=this.svgFactory.createElement("svg:mask");S.setAttributeNS(null,"id",a.maskId);let P=this.svgFactory.createElement("svg:rect");P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y","0"),P.setAttributeNS(null,"width",g(p)),P.setAttributeNS(null,"height",g(h)),P.setAttributeNS(null,"fill",o),P.setAttributeNS(null,"mask",`url(#${a.maskId})`),this.defs.appendChild(S),this._ensureTransformGroup().appendChild(P),this.paintInlineImageXObject(r,S)}paintFormXObjectBegin(r,a){if(Array.isArray(r)&&r.length===6&&this.transform(r[0],r[1],r[2],r[3],r[4],r[5]),a){let p=a[2]-a[0],h=a[3]-a[1],o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x",a[0]),o.setAttributeNS(null,"y",a[1]),o.setAttributeNS(null,"width",g(p)),o.setAttributeNS(null,"height",g(h)),this.current.element=o,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(r){let a=this.svgFactory.create(r.width,r.height),p=this.svgFactory.createElement("svg:defs");a.appendChild(p),this.defs=p;let h=this.svgFactory.createElement("svg:g");return h.setAttributeNS(null,"transform",M(r.transform)),a.appendChild(h),this.svg=h,a}_ensureClipGroup(){if(!this.current.clipGroup){let r=this.svgFactory.createElement("svg:g");r.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(r),this.current.clipGroup=r}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",M(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var e=y(2),A=y(23);let F=Re(),N=we(),E=Fe(),b=Le(),x=/^file:\/\/\/[a-zA-Z]:\//;function d(R){let f=b.parse(R);return f.protocol==="file:"||f.host?f:/^[a-z]:[/\\]/i.test(R)?b.parse(`file:///${R}`):(f.host||(f.protocol="file:"),f)}class C{constructor(f){this.source=f,this.url=d(f.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new g(this),this._fullRequestReader}getRangeReader(f,r){if(r<=this._progressiveDataLength)return null;let a=this.isFsUrl?new L(this,f,r):new M(this,f,r);return this._rangeRequestReaders.push(a),a}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f),this._rangeRequestReaders.slice(0).forEach(function(a){a.cancel(f)})}}t.PDFNodeStream=C;class D{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null;let r=f.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)(),this._headersCapability=(0,e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let f=this._readableStream.read();return f===null?(this._readCapability=(0,e.createPromiseCapability)(),this.read()):(this._loaded+=f.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(f).buffer,done:!1})}cancel(f){if(!this._readableStream){this._error(f);return}this._readableStream.destroy(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class c{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,e.createPromiseCapability)();let r=f.source;this._isStreamingSupported=!r.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let f=this._readableStream.read();return f===null?(this._readCapability=(0,e.createPromiseCapability)(),this.read()):(this._loaded+=f.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(f).buffer,done:!1})}cancel(f){if(!this._readableStream){this._error(f);return}this._readableStream.destroy(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(R,f){return{protocol:R.protocol,auth:R.auth,host:R.hostname,port:R.port,path:R.path,method:"GET",headers:f}}class g extends D{constructor(f){super(f);let r=a=>{if(a.statusCode===404){let S=new e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=S,this._headersCapability.reject(S);return}this._headersCapability.resolve(),this._setReadableStream(a);let p=S=>this._readableStream.headers[S.toLowerCase()],{allowRangeRequests:h,suggestedLength:o}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:f.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=o||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(p)};this._request=null,this._url.protocol==="http:"?this._request=N.request(m(this._url,f.httpHeaders),r):this._request=E.request(m(this._url,f.httpHeaders),r),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class M extends c{constructor(f,r,a){super(f);this._httpHeaders={};for(let h in f.httpHeaders){let o=f.httpHeaders[h];typeof o!="undefined"&&(this._httpHeaders[h]=o)}this._httpHeaders.Range=`bytes=${r}-${a-1}`;let p=h=>{if(h.statusCode===404){let o=new e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(h)};this._request=null,this._url.protocol==="http:"?this._request=N.request(m(this._url,this._httpHeaders),p):this._request=E.request(m(this._url,this._httpHeaders),p),this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class v extends D{constructor(f){super(f);let r=decodeURIComponent(this._url.path);x.test(this._url.href)&&(r=r.replace(/^\//,"")),F.lstat(r,(a,p)=>{if(a){a.code==="ENOENT"&&(a=new e.MissingPDFException(`Missing PDF "${r}".`)),this._storedError=a,this._headersCapability.reject(a);return}this._contentLength=p.size,this._setReadableStream(F.createReadStream(r)),this._headersCapability.resolve()})}}class L extends c{constructor(f,r,a){super(f);let p=decodeURIComponent(this._url.path);x.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream(F.createReadStream(p,{start:r,end:a-1}))}}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=E,t.extractFilenameFromHeader=N,t.validateRangeRequestCapabilities=F,t.validateResponseStatus=b;var e=y(2),A=y(24);function F({getResponseHeader:x,isHttp:d,rangeChunkSize:C,disableRange:D}){(0,e.assert)(C>0,"Range chunk size must be larger than zero");let c={allowRangeRequests:!1,suggestedLength:void 0},m=parseInt(x("Content-Length"),10);return!Number.isInteger(m)||(c.suggestedLength=m,m<=2*C)||D||!d||x("Accept-Ranges")!=="bytes"||(x("Content-Encoding")||"identity")!=="identity"||(c.allowRangeRequests=!0),c}function N(x){let d=x("Content-Disposition");if(d){let C=(0,A.getFilenameFromContentDispositionHeader)(d);if(C.includes("%"))try{C=decodeURIComponent(C)}catch(D){}if(/\.pdf$/i.test(C))return C}return null}function E(x,d){return x===404||x===0&&d.startsWith("file:")?new e.MissingPDFException('Missing PDF "'+d+'".'):new e.UnexpectedResponseException("Unexpected server response ("+x+') while retrieving PDF "'+d+'".',x)}function b(x){return x===200||x===206}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=e;function e(A){let F=!0,N=E("filename\\*","i").exec(A);if(N){N=N[1];let m=C(N);return m=unescape(m),m=D(m),m=c(m),x(m)}if(N=d(A),N){let m=c(N);return x(m)}if(N=E("filename","i").exec(A),N){N=N[1];let m=C(N);return m=c(m),x(m)}function E(m,g){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function b(m,g){if(m){if(!/^[\x00-\xFF]+$/.test(g))return g;try{let M=new TextDecoder(m,{fatal:!0}),v=Array.from(g,function(L){return L.charCodeAt(0)&255});g=M.decode(new Uint8Array(v)),F=!1}catch(M){if(/^utf-?8$/i.test(m))try{g=decodeURIComponent(escape(g)),F=!1}catch(v){}}}return g}function x(m){return F&&/[\x80-\xff]/.test(m)&&(m=b("utf-8",m),F&&(m=b("iso-8859-1",m))),m}function d(m){let g=[],M,v=E("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(M=v.exec(m))!==null;){let[,R,f,r]=M;if(R=parseInt(R,10),R in g){if(R===0)break;continue}g[R]=[f,r]}let L=[];for(let R=0;R<g.length&&R in g;++R){let[f,r]=g[R];r=C(r),f&&(r=unescape(r),R===0&&(r=D(r))),L.push(r)}return L.join("")}function C(m){if(m.startsWith('"')){let g=m.slice(1).split('\\"');for(let M=0;M<g.length;++M){let v=g[M].indexOf('"');v!==-1&&(g[M]=g[M].slice(0,v),g.length=M+1),g[M]=g[M].replace(/\\(.)/g,"$1")}m=g.join('"')}return m}function D(m){let g=m.indexOf("'");if(g===-1)return m;let M=m.slice(0,g),L=m.slice(g+1).replace(/^[^']*'/,"");return b(M,L)}function c(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,M,v,L){if(v==="q"||v==="Q")return L=L.replace(/_/g," "),L=L.replace(/=([0-9a-fA-F]{2})/g,function(R,f){return String.fromCharCode(parseInt(f,16))}),b(M,L);try{L=atob(L)}catch(R){}return b(M,L)})}return""}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var e=y(2),A=y(23);let F=200,N=206;function E(D){let c=D.response;return typeof c!="string"?c:(0,e.stringToBytes)(c).buffer}class b{constructor(c,m){this.url=c,m=m||{},this.isHttp=/^https?:/i.test(c),this.httpHeaders=this.isHttp&&m.httpHeaders||{},this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(c,m,g){let M={begin:c,end:m};for(let v in g)M[v]=g[v];return this.request(M)}requestFull(c){return this.request(c)}request(c){let m=this.getXhr(),g=this.currXhrId++,M=this.pendingRequests[g]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(let v in this.httpHeaders){let L=this.httpHeaders[v];typeof L!="undefined"&&m.setRequestHeader(v,L)}return this.isHttp&&"begin"in c&&"end"in c?(m.setRequestHeader("Range",`bytes=${c.begin}-${c.end-1}`),M.expectedStatus=N):M.expectedStatus=F,m.responseType="arraybuffer",c.onError&&(m.onerror=function(v){c.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,g),m.onprogress=this.onProgress.bind(this,g),M.onHeadersReceived=c.onHeadersReceived,M.onDone=c.onDone,M.onError=c.onError,M.onProgress=c.onProgress,m.send(null),g}onProgress(c,m){let g=this.pendingRequests[c];!g||g.onProgress&&g.onProgress(m)}onStateChange(c,m){let g=this.pendingRequests[c];if(!g)return;let M=g.xhr;if(M.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),M.readyState!==4||!(c in this.pendingRequests))return;if(delete this.pendingRequests[c],M.status===0&&this.isHttp){g.onError&&g.onError(M.status);return}let v=M.status||F;if(!(v===F&&g.expectedStatus===N)&&v!==g.expectedStatus){g.onError&&g.onError(M.status);return}let R=E(M);if(v===N){let f=M.getResponseHeader("Content-Range"),r=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);g.onDone({begin:parseInt(r[1],10),chunk:R})}else R?g.onDone({begin:0,chunk:R}):g.onError&&g.onError(M.status)}getRequestXhr(c){return this.pendingRequests[c].xhr}isPendingRequest(c){return c in this.pendingRequests}abortRequest(c){let m=this.pendingRequests[c].xhr;delete this.pendingRequests[c],m.abort()}}class x{constructor(c){this._source=c,this._manager=new b(c.url,{httpHeaders:c.httpHeaders,withCredentials:c.withCredentials}),this._rangeChunkSize=c.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(c){let m=this._rangeRequestReaders.indexOf(c);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(c,m){let g=new C(this._manager,c,m);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c),this._rangeRequestReaders.slice(0).forEach(function(g){g.cancel(c)})}}t.PDFNetworkStream=x;class d{constructor(c,m){this._manager=c;let g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=c.requestFull(g),this._headersReceivedCapability=(0,e.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let c=this._fullRequestId,m=this._manager.getRequestXhr(c),g=L=>m.getResponseHeader(L),{allowRangeRequests:M,suggestedLength:v}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});M&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(c),this._headersReceivedCapability.resolve()}_onDone(c){c&&(this._requests.length>0?this._requests.shift().resolve({value:c.chunk,done:!1}):this._cachedChunks.push(c.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(m){m.resolve({value:void 0,done:!0})}),this._requests=[])}_onError(c){let m=this._url,g=(0,A.createResponseStatusError)(c,m);this._storedError=g,this._headersReceivedCapability.reject(g),this._requests.forEach(function(M){M.reject(g)}),this._requests=[],this._cachedChunks=[]}_onProgress(c){this.onProgress&&this.onProgress({loaded:c.loaded,total:c.lengthComputable?c.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let c=(0,e.createPromiseCapability)();return this._requests.push(c),c.promise}cancel(c){this._done=!0,this._headersReceivedCapability.reject(c),this._requests.forEach(function(m){m.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class C{constructor(c,m,g){this._manager=c;let M={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=c.requestRange(m,g,M),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(c){let m=c.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0,this._requests.forEach(function(g){g.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}_onProgress(c){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:c.loaded})}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk!==null){let m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};let c=(0,e.createPromiseCapability)();return this._requests.push(c),c.promise}cancel(c){this._done=!0,this._requests.forEach(function(m){m.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(Q,t,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var e=y(2),A=y(23);function F(d,C,D){return{method:"GET",headers:d,signal:D&&D.signal,mode:"cors",credentials:C?"include":"same-origin",redirect:"follow"}}function N(d){let C=new Headers;for(let D in d){let c=d[D];typeof c!="undefined"&&C.append(D,c)}return C}class E{constructor(C){this.source=C,this.isHttp=/^https?:/i.test(C.url),this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(C,D){if(D<=this._progressiveDataLength)return null;let c=new x(this,C,D);return this._rangeRequestReaders.push(c),c}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C),this._rangeRequestReaders.slice(0).forEach(function(c){c.cancel(C)})}}t.PDFFetchStream=E;class b{constructor(C){this._stream=C,this._reader=null,this._loaded=0,this._filename=null;let D=C.source;this._withCredentials=D.withCredentials||!1,this._contentLength=D.length,this._headersCapability=(0,e.createPromiseCapability)(),this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._headers=N(this._stream.httpHeaders);let c=D.url;fetch(c,F(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,A.validateResponseStatus)(m.status))throw(0,A.createResponseStatusError)(m.status,c);this._reader=m.body.getReader(),this._headersCapability.resolve();let g=L=>m.headers.get(L),{allowRangeRequests:M,suggestedLength:v}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=M,this._contentLength=v||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:C,done:D}=await this._reader.read();return D?{value:C,done:D}:(this._loaded+=C.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){this._reader&&this._reader.cancel(C),this._abortController&&this._abortController.abort()}}class x{constructor(C,D,c){this._stream=C,this._reader=null,this._loaded=0;let m=C.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,e.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=N(this._stream.httpHeaders),this._headers.append("Range",`bytes=${D}-${c-1}`);let g=m.url;fetch(g,F(this._headers,this._withCredentials,this._abortController)).then(M=>{if(!(0,A.validateResponseStatus)(M.status))throw(0,A.createResponseStatusError)(M.status,g);this._readCapability.resolve(),this._reader=M.body.getReader()}).catch(M=>{if(!(M&&M.name==="AbortError"))throw M}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:C,done:D}=await this._reader.read();return D?{value:C,done:D}:(this._loaded+=C.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){this._reader&&this._reader.cancel(C),this._abortController&&this._abortController.abort()}}}])})});export default Ne();
