var x={"":["<em>","</em>"],_:["<strong>","</strong>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function w(r){return r.replace(RegExp("^"+(r.match(/^(\t| )+/)||"")[0],"gm"),"")}function i(r){return(r+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(r){var h=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^```(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\!\[([^\]]*?)\]\(([^\)]+?)\))|(\[)|(\](?:\(([^\)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,3})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*])/gm,s=[],c="",f=0,m={},t,o,e,u,n;function $(l){var a=x[l.replace(/\*/g,"_")[1]||""],g=s[s.length-1]==l;return a?a[1]?(s[g?"pop":"push"](l),a[g|0]):a[0]:l}function d(){for(var l="";s.length;)l+=$(s[s.length-1]);return l}for(r=r.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(l,a,g){return m[a.toLowerCase()]=g,""}).replace(/^\n+|\n+$/g,"");e=h.exec(r);)o=r.substring(f,e.index),f=h.lastIndex,t=e[0],o.match(/[^\\](\\\\)*\\$/)||(e[3]||e[4]?t='<pre class="code '+(e[4]?"poetry":e[2].toLowerCase())+'">'+w(i(e[3]||e[4]).replace(/^\n+|\n+$/g,""))+"</pre>":e[6]?(n=e[6],n.match(/\./)&&(e[5]=e[5].replace(/^\d+/gm,"")),u=p(w(e[5].replace(/^\s*[>*+.-]/gm,""))),n===">"?n="blockquote":(n=n.match(/\./)?"ol":"ul",u=u.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),t="<"+n+">"+u+"</"+n+">"):e[8]?t='<img src="'+i(e[8])+'" alt="'+i(e[7])+'">':e[10]?(c=c.replace("<a>",'<a href="'+i(e[11]||m[o.toLowerCase()])+'">'),t=d()+"</a>"):e[9]?t="<a>":e[12]||e[14]?(n="h"+(e[14]?e[14].length:e[13][0]==="="?1:2),t="<"+n+">"+p(e[12]||e[15])+"</"+n+">"):e[16]?t="<code>"+i(e[16])+"</code>":(e[17]||e[1])&&(t=$(e[17]||"--"))),c+=o,c+=t;return(c+r.substring(f)+d()).trim()}var b=p;export{b as a};
