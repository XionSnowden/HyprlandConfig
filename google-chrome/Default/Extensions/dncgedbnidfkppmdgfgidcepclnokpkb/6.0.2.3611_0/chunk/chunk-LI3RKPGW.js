function w(e){let{statusText:t}=e,r;return t===""&&(r=new Error(400)),r}function m(e,t={timeout:7e4}){return new Promise((r,s)=>{let o=3e3,l,d=function(){clearTimeout(l),r.apply(this,arguments)},i=function(){clearTimeout(l),s.apply(this,arguments)};function p(){let n=new XMLHttpRequest;n.open("GET",e),n.onload=()=>{n.status===200||n.status===0?d(n.response):n.status===503?(console.warn(`503: Server is busy, retrying after ${o} milliseconds`),clearTimeout(l),l=setTimeout(p,o)):i(new Error(n.status))},n.onerror=()=>{i(new w(n))},n.ontimeout=()=>{i(new Error(408))},n.timeout=t.timeout,n.send()}p()})}function L(e,t){return new Promise((r,s)=>{m(e,t).then(o=>{try{r(JSON.parse(o))}catch(l){s(l)}}).catch(s)})}var f={get:m,getJSON:L};var c=Number(1.1).toLocaleString().substring(1,2),x=["ca","cs","da","de","el","en","es","et","fi","fr","id","it","ja","ko","lv","lt","nb","nl","pl","pt","ro","ru","sk","sl","sv","th","tr","uk","zh-CN","zh-TW"],[u,h]=navigator.language.split("-").map((e,t)=>t?e.toUpperCase():e.toLowerCase()),g=`${u}`;h&&(g=`${u}-${h}`);var a={};function T(e){return`strings/${e}/messages.json`}var N=()=>g,S=(e,t="general")=>{let r=e;return a&&a[t]&&a[t][e]&&(r=a[t][e].message||e),r};var b=e=>{let t=e;return typeof t=="string"&&c!=="."&&(t=t.replace(c,".")),parseFloat(t)},F=(e,t=c)=>{let r=e;return typeof r=="string"&&t!=="."&&(r=r.replace(t,".")),new RegExp("(^[-]?([0-9]+([.][0-9]*)?|[.][0-9]+)([eE][-+]?[0-9]+)?$)").test(r)},E=async()=>{let e=x.filter(o=>o.startsWith(u)),t=e.find(o=>o===g)||e[0]||"en",r=T(t),s={general:{"Hello World":"Hello World"}};try{s=await f.get(r),a=JSON.parse(s),document.documentElement.lang=t}catch(o){console.warn("No strings file found"),console.error(o),a=s}return{source:r,strings:a}};E();export{f as a,N as b,S as c,b as d,F as e};
