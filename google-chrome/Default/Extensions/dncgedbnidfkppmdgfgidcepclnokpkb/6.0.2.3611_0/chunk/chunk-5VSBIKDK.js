function o(e,d,c){let s=`${e}-${d}`;return c&&(s+="-manual"),s}var n=null;"launchQueue"in window&&window.launchQueue.setConsumer(e=>{e.targetURL&&(n=new URL(e.targetURL).searchParams)});var a=()=>new URLSearchParams(window.location.hash.substring(1)),t=new URLSearchParams(window.location.search);if(n)for(let e of n.keys())t.set(e,n.get(e));var r=new URLSearchParams;t.has("blockid")&&(r.set("blockid",t.get("blockid")),t.delete("blockid"));t.has("activityid")&&(r.set("activityid",t.get("activityid")),t.delete("activityid"));Array.from(r).length&&window.history.replaceState(null,null,`${window.location.pathname}?${t.toString()}#${[a().toString(),r.toString()].filter(Boolean).join("&")}`);var i=a();window.addEventListener("hashchange",()=>{i=a()});var u=()=>{try{return t.get("host")??window.location.host}catch{return null}},l=()=>{if(!t.has("lessonid"))return null;let e=t.get("lessonid");return t.has("experimentid")&&(e+=`-${t.get("experimentid")}`),o(u(),e,t.has("manual"))},g=()=>l()&&t.has("userid")&&t.get("classAssignmentId")?`${l()}-${t.get("userid")}-${t.get("classAssignmentId")}`:null,w=()=>i.has("blockid")&&i.has("activityid")?`${i.get("activityid")}-${i.get("blockid")}`:null;export{t as a,u as b,l as c,g as d,w as e};
